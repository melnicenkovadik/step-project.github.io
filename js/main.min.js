/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user */ "./src/js/user.js");
/* harmony import */ var _create_edit_card_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-edit-card-modal */ "./src/js/create-edit-card-modal.js");
/* harmony import */ var _card_operations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./card-operations */ "./src/js/card-operations.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filter */ "./src/js/filter.js");
/* harmony import */ var _drag_and_drop_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./drag-and-drop-card */ "./src/js/drag-and-drop-card.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }







var App =
/*#__PURE__*/
function () {
  function App() {
    _classCallCheck(this, App);
  }

  _createClass(App, null, [{
    key: "init",
    value: function init() {
      new _user__WEBPACK_IMPORTED_MODULE_0__["User"]();
      new _create_edit_card_modal__WEBPACK_IMPORTED_MODULE_1__["CreateEditCardModal"]();
      new _card_operations__WEBPACK_IMPORTED_MODULE_2__["CardOperations"]();
      new _filter__WEBPACK_IMPORTED_MODULE_3__["Filter"]();
      _drag_and_drop_card__WEBPACK_IMPORTED_MODULE_4__["dragAndDropCardInstance"].sortable();
    }
  }]);

  return App;
}();

App.init();

/***/ }),

/***/ "./src/js/card-operations.js":
/*!***********************************!*\
  !*** ./src/js/card-operations.js ***!
  \***********************************/
/*! exports provided: CardOperations, cardOperationInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardOperations", function() { return CardOperations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardOperationInstance", function() { return cardOperationInstance; });
/* harmony import */ var _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/api-methods */ "./src/js/shared/api-methods.js");
/* harmony import */ var _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared/medical-data-operations */ "./src/js/shared/medical-data-operations.js");
/* harmony import */ var _shared_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared/modal */ "./src/js/shared/modal.js");
/* harmony import */ var _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shared/confirm-modal */ "./src/js/shared/confirm-modal.js");
/* harmony import */ var _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/modal-card-operation */ "./src/js/shared/modal-card-operation.js");
/* harmony import */ var _visits_therapist__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./visits/therapist */ "./src/js/visits/therapist.js");
/* harmony import */ var _visits_dentist__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./visits/dentist */ "./src/js/visits/dentist.js");
/* harmony import */ var _visits_cardiologist__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./visits/cardiologist */ "./src/js/visits/cardiologist.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }









var CardOperations =
/*#__PURE__*/
function () {
  function CardOperations() {
    _classCallCheck(this, CardOperations);

    this.visitBoard = document.getElementById('visit-board');
    this.boardMessage = document.querySelector('#board-message');
    this.cardList = document.getElementsByClassName('visit-card');
    this.createCardBtn = document.getElementById('create-card-btn');
    this.editCardBtn = document.getElementById('edit-card-btn');
    this.closeBtn = document.querySelector('.close-btn');
    this.preloader = document.getElementById('preloader');
    this.backgroundCardSFinish = '#949494';
    this.backgroundCardSOpen = '#658eff';
    this.currentCardId = null;
  }

  _createClass(CardOperations, [{
    key: "buildCard",
    value: function buildCard(visit) {
      var _this = this;

      var card = document.createElement('div');
      card.className = 'visit-card';
      card.dataset.id = "".concat(visit.id || '');

      if (visit.status === 'Закрыт') {
        card.style.backgroundColor = "".concat(this.backgroundCardSFinish);
      }

      var cardBlock = document.createElement('div');
      cardBlock.className = 'card-block';
      var closeBtn = document.createElement('button');
      closeBtn.innerHTML = '&times;';
      closeBtn.className = "close-btn";
      closeBtn.title = "Удалить карточку";
      closeBtn.addEventListener('click', function () {
        return _this.removeCard(card.dataset.id);
      });
      cardBlock.append(closeBtn);
      var dragIcon = document.createElement('div');
      dragIcon.className = "card-drop";
      dragIcon.innerHTML = "<i class=\"icon-move-1 handle\"></i>";
      cardBlock.append(dragIcon);
      var cardName = document.createElement('p');
      cardName.innerText = "\u0424\u0418\u041E:  ".concat(visit.name);
      cardName.className = 'card-name';
      cardBlock.append(cardName);
      var cardDoctor = document.createElement('p');
      cardDoctor.innerText = "\u0414\u043E\u043A\u0442\u043E\u0440:  ".concat(visit.doctor);
      cardDoctor.className = 'card-doctor';
      cardBlock.append(cardDoctor);
      var changeBtn = document.createElement('div');
      changeBtn.className = 'wrapper-changeBtn';
      var dropdown = document.createElement('div');
      dropdown.className = 'dropdown';
      dropdown.innerHTML = "<button class=\"icon-dot-3 dropdown__change-btn\"></button>";
      changeBtn.append(dropdown);
      var dropdownContent = document.createElement('div');
      dropdownContent.className = 'dropdown__content';
      dropdownContent.innerHTML = "<a href=\"#\" class=\"dropdown__link link-remove\" data-id=\"dropdown-remove\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</a>\n                               <a href=\"#\" class=\"dropdown__link link-edit\" data-id=\"dropdown-edit\">\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C</a>\n                               <a href=\"#\" class=\"dropdown__link link-finish\" data-id=\"dropdown-finish\">\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C</a>";
      dropdownContent.addEventListener('click', function (event) {
        return _this.changeCards(event, card.dataset.id);
      });
      dropdown.append(dropdownContent);
      cardBlock.append(changeBtn);
      var hiddenBlock = document.createElement('div');
      hiddenBlock.className = "hidden-block hidden";
      hiddenBlock.innerHTML = this.getDoctorInput(visit);
      cardBlock.append(hiddenBlock);
      var showMore = document.createElement('p');
      showMore.innerText = 'Показать больше';
      showMore.className = 'show-more';
      showMore.addEventListener('click', function () {
        hiddenBlock.classList.toggle('hidden');
        showMore.innerText = hiddenBlock.classList.contains('hidden') ? 'Показать больше' : 'Показать меньше';
      });
      cardBlock.append(showMore);

      if (this.boardMessage) {
        this.boardMessage.classList.add('close');
      }

      card.append(cardBlock);
      return {
        card: card,
        cardBlock: cardBlock
      };
    }
  }, {
    key: "getDoctorInput",
    value: function getDoctorInput(visit) {
      switch (visit.doctor) {
        case 'Терапевт':
          return "<p class=\"card-specialists\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442:  ".concat(visit.specialists, "</p>\n                                 <p class=\"card-status\">\u0421\u0442\u0430\u0442\u0443\u0441:  ").concat(visit.status, "</p>\n                                 <p class=\"card-priority\">\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:  ").concat(visit.priority, "\n                                 <p class=\"card-date\">\u0414\u0430\u0442\u0430:  ").concat(visit.date, "</p>                                 \n                                 <p class=\"card-age\">\u0412\u043E\u0437\u0440\u0430\u0441\u0442:  ").concat(visit.age, "</p>\n                                 <p class=\"card-title\">\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.title, "</p>\n                                 <p class=\"card-description\">\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.description, "</p>");

        case 'Стоматолог':
          return "<p class=\"card-specialists\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442:  ".concat(visit.specialists, "</p>\n                                 <p class=\"card-status\">\u0421\u0442\u0430\u0442\u0443\u0441:  ").concat(visit.status, "</p>\n                                 <p class=\"card-priority\">\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:  ").concat(visit.priority, "\n                                 <p class=\"card-date\">\u0414\u0430\u0442\u0430:  ").concat(visit.date, "</p>                                 \n                                 <p class=\"card-lastVisit\">\u0414\u0430\u0442\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u0435\u043D\u0435\u0433\u043E \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u044F:  ").concat(visit.lastVisit, "</p>\n                                 <p class=\"card-title\">\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.title, "</p>\n                                 <p class=\"card-description\">\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.description, "</p>");

        case 'Кардиолог':
          return "<p class=\"card-specialists\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442:  ".concat(visit.specialists, "</p>\n                                 <p class=\"card-status\">\u0421\u0442\u0430\u0442\u0443\u0441:  ").concat(visit.status, "</p>\n                                 <p class=\"card-priority\">\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:  ").concat(visit.priority, "\n                                 <p class=\"card-date\">\u0414\u0430\u0442\u0430:  ").concat(visit.date, "</p>                                 \n                                 <p class=\"card-age\">\u0412\u043E\u0437\u0440\u0430\u0441\u0442:  ").concat(visit.age, "</p>\n                                 <p class=\"card-title\">\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.title, "</p>\n                                 <p class=\"card-pressure\">\u041E\u0431\u044B\u0447\u043D\u043E\u0435 \u0434\u0430\u0432\u043B\u0435\u043D\u0438\u0435:  ").concat(visit.pressure, "</p>\n                                 <p class=\"card-weight\">\u0418\u043D\u0434\u0435\u043A\u0441 \u043C\u0430\u0441\u0441\u044B \u0442\u0435\u043B\u0430:  ").concat(visit.weight, "</p>\n                                 <p class=\"card-illness\">\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0435\u043D\u043D\u044B\u0435 \u0437\u0430\u0431\u043E\u043B\u0435\u0432\u0430\u043D\u0438\u044F \u0441\u0435\u0440\u0434\u0435\u0447\u043D\u043E-\u0441\u043E\u0441\u0443\u0434\u0438\u0441\u0442\u043E\u0439 \u0441\u0438\u0441\u0442\u0435\u043C\u044B:  ").concat(visit.illness, "</p>\n                                 <p class=\"card-description\">\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0438\u0437\u0438\u0442\u0430:  ").concat(visit.description, "</p>");

        default:
          return '';
      }
    }
  }, {
    key: "changeCards",
    value: function changeCards(event, cardId) {
      var currentButtonId = event.target.dataset.id;

      switch (currentButtonId) {
        case 'dropdown-finish':
          this.finishStatus(cardId);
          break;

        case 'dropdown-edit':
          this.openEditCardModal(cardId);
          break;

        case 'dropdown-remove':
          this.removeCard(cardId);
          break;

        default:
          return;
      }
    }
  }, {
    key: "removeCard",
    value: function removeCard(id) {
      var _this2 = this;

      var currentCard = document.querySelector("[data-id=\"".concat(id, "\"] "));
      _shared_modal__WEBPACK_IMPORTED_MODULE_2__["modalInstance"].open('confirm-modal');
      setTimeout(function () {
        _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].init();

        _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].action = function () {
          // show loader
          _this2.preloader.classList.remove('close');

          _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].deleteCard(id).then(function () {
            // hide loader
            _this2.preloader.classList.add('close');

            currentCard.remove();
            _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].removeCard(id);
            var boardMessage = document.querySelector('#board-message');

            if (_this2.cardList.length === 0) {
              boardMessage.classList.remove('close');
            } else {
              boardMessage.classList.add('close');
            }

            _this2.closeBtn.removeEventListener('click', function () {
              return _this2.removeCard();
            });

            _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].cancel();
          })["catch"](function (error) {
            // hide loader
            _this2.preloader.classList.add('close');

            console.log('Delete error', error);
          });
        };
      }, 550);
    }
  }, {
    key: "finishStatus",
    value: function finishStatus(cardId) {
      var _this3 = this;

      _shared_modal__WEBPACK_IMPORTED_MODULE_2__["modalInstance"].open('confirm-modal');
      setTimeout(function () {
        _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].init();

        _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].action = function () {
          // show loader
          _this3.preloader.classList.remove('close');

          _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].getCard(cardId).then(function (data) {
            // hide loader
            _this3.preloader.classList.add('close');

            _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].editCard(cardId, _objectSpread({}, data, {
              status: 'Закрыт'
            }));
          }).then(function () {
            var currentCard = document.querySelector("[data-id=\"".concat(cardId, "\"]"));
            var status = currentCard.querySelector('.card-status');
            currentCard.style.backgroundColor = "".concat(_this3.backgroundCardSFinish);
            currentCard.style.borderColor = "".concat(_this3.backgroundCardSFinish);
            status.innerText = 'Статус:  Закрыт';
            _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].finishStatus(cardId);
            _shared_confirm_modal__WEBPACK_IMPORTED_MODULE_3__["confirmModalInstance"].cancel();
          })["catch"](function (error) {
            // hide loader
            _this3.preloader.classList.add('close');

            console.log('Finish status error', error);
          });
        };
      }, 550);
    }
  }, {
    key: "openEditCardModal",
    value: function openEditCardModal(cardId) {
      var _this4 = this;

      this.createCardBtn.classList.add('close');
      this.editCardBtn.classList.remove('close'); // show loader

      this.preloader.classList.remove('close');
      _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].getCard(cardId).then(function (data) {
        // hide loader
        _this4.preloader.classList.add('close');

        _shared_modal__WEBPACK_IMPORTED_MODULE_2__["modalInstance"].open('create-cards-modal');
        _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_4__["modalCardOperationInstance"].filterForm(data.doctor);
        _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_4__["modalCardOperationInstance"].setFieldValues(data);

        _this4.setCurrentCardId(data.id);
      })["catch"](function (error) {
        // hide loader
        _this4.preloader.classList.add('close');

        console.log('Get card by id error', error);
      });
    }
  }, {
    key: "createCard",
    value: function createCard(dataObj) {
      var _this5 = this;

      return _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].createCard(dataObj).then(function (data) {
        return _this5.newCard(data);
      });
    }
  }, {
    key: "editCard",
    value: function editCard(cardId, editedVisit) {
      var _this6 = this;

      return _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].editCard(cardId, editedVisit).then(function (data) {
        var currentCard = document.querySelector("[data-id=\"".concat(cardId, "\"]"));

        var cardBlockForPage = _this6.buildCard(data);

        currentCard.firstChild.remove();

        if (data.status === 'Закрыт') {
          currentCard.style.backgroundColor = "".concat(_this6.backgroundCardSFinish);
        } else {
          currentCard.style.backgroundColor = "".concat(_this6.backgroundCardSOpen);
        }

        currentCard.append(cardBlockForPage.cardBlock);
        _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].editCard(cardId, data);
      });
    }
  }, {
    key: "newCard",
    value: function newCard(visit) {
      var card;

      switch (visit.doctor) {
        case 'Терапевт':
          card = new _visits_therapist__WEBPACK_IMPORTED_MODULE_5__["Therapist"](visit);
          break;

        case 'Стоматолог':
          card = new _visits_dentist__WEBPACK_IMPORTED_MODULE_6__["Dentist"](visit);
          break;

        case 'Кардиолог':
          card = new _visits_cardiologist__WEBPACK_IMPORTED_MODULE_7__["Cardiologist"](visit);
          break;

        default:
          card = new _visits_therapist__WEBPACK_IMPORTED_MODULE_5__["Therapist"](visit);
      }

      var cardForPage = this.buildCard(visit);
      var boardMessage = document.querySelector('#board-message');
      boardMessage.classList.add('close');
      this.visitBoard.append(cardForPage.card);
      _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].createVisit(visit);
    }
  }, {
    key: "getCurrentCardId",
    value: function getCurrentCardId() {
      return this.currentCardId;
    }
  }, {
    key: "setCurrentCardId",
    value: function setCurrentCardId(cardId) {
      this.currentCardId = cardId;
    }
  }]);

  return CardOperations;
}();
var cardOperationInstance = new CardOperations();

/***/ }),

/***/ "./src/js/cards-list.js":
/*!******************************!*\
  !*** ./src/js/cards-list.js ***!
  \******************************/
/*! exports provided: CardsList, cardsListInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardsList", function() { return CardsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardsListInstance", function() { return cardsListInstance; });
/* harmony import */ var _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/api-methods */ "./src/js/shared/api-methods.js");
/* harmony import */ var _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared/medical-data-operations */ "./src/js/shared/medical-data-operations.js");
/* harmony import */ var _card_operations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./card-operations */ "./src/js/card-operations.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }




var CardsList =
/*#__PURE__*/
function () {
  function CardsList() {
    _classCallCheck(this, CardsList);

    this.visitBoard = document.getElementById('visit-board');
    this.preloader = document.getElementById('preloader');
    var token = _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].hasToken();

    if (token) {
      this.getCardList();
    }
  }

  _createClass(CardsList, [{
    key: "getCardList",
    value: function getCardList() {
      var _this = this;

      // show loader
      this.preloader.classList.remove('close');
      _shared_api_methods__WEBPACK_IMPORTED_MODULE_0__["apiMethodsInstance"].getCards().then(function (data) {
        // hide loader
        _this.preloader.classList.add('close');

        _this.generateCardsList(data);

        _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].setAllCards(data);
      })["catch"](function () {
        //hide loader
        _this.preloader.classList.add('close');

        var cardsArray = _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].getAllCards();

        _this.generateCardsList(cardsArray);
      });
    }
  }, {
    key: "generateCardsList",
    value: function generateCardsList(data) {
      var _this2 = this;

      this.visitBoard.innerHTML = '';

      if (data.length === 0) {
        this.visitBoard.innerHTML = "<p class=\"visit-board__message\" id=\"board-message\">\u041D\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u043E \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u0432\u0438\u0437\u0438\u0442\u0430</p>";
      } else {
        this.visitBoard.innerHTML = "<p class=\"visit-board__message close\" id=\"board-message\">\u041D\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u043E \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u0432\u0438\u0437\u0438\u0442\u0430</p>";
      }

      data.forEach(function (visit) {
        var cardsForPage = _card_operations__WEBPACK_IMPORTED_MODULE_2__["cardOperationInstance"].buildCard(visit);

        _this2.visitBoard.append(cardsForPage.card);
      });
    }
  }]);

  return CardsList;
}();
var cardsListInstance = new CardsList();

/***/ }),

/***/ "./src/js/create-edit-card-modal.js":
/*!******************************************!*\
  !*** ./src/js/create-edit-card-modal.js ***!
  \******************************************/
/*! exports provided: CreateEditCardModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateEditCardModal", function() { return CreateEditCardModal; });
/* harmony import */ var _shared_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/modal */ "./src/js/shared/modal.js");
/* harmony import */ var _card_operations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card-operations */ "./src/js/card-operations.js");
/* harmony import */ var _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared/modal-card-operation */ "./src/js/shared/modal-card-operation.js");
/* harmony import */ var _shared_modal_card_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shared/modal-card-validation */ "./src/js/shared/modal-card-validation.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }





var CreateEditCardModal =
/*#__PURE__*/
function () {
  function CreateEditCardModal() {
    var _this = this;

    _classCallCheck(this, CreateEditCardModal);

    this.selectFormSpecialty = document.getElementById('select-form-specialty');
    this.createModalCloseBtn = document.querySelector('#modalClose');
    this.createCardBtn = document.getElementById('create-card-btn');
    this.editCardBtn = document.getElementById('edit-card-btn');
    this.preloader = document.getElementById('preloader');
    this.selectFormSpecialty.addEventListener('change', function () {
      _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_2__["modalCardOperationInstance"].filterForm(_this.selectFormSpecialty.value);
    });
    this.createCardBtn.addEventListener('click', this.create.bind(this));
    this.editCardBtn.addEventListener('click', this.edit.bind(this));
    this.createModalCloseBtn.addEventListener('click', this.close.bind(this));
  }

  _createClass(CreateEditCardModal, [{
    key: "create",
    value: function create() {
      var _this2 = this;

      this.createCardBtn.removeAttribute("disabled");
      _shared_modal_card_validation__WEBPACK_IMPORTED_MODULE_3__["modalCardValidationInstance"].removeValidation();
      var isValid = _shared_modal_card_validation__WEBPACK_IMPORTED_MODULE_3__["modalCardValidationInstance"].checkFieldsPresence();

      if (isValid) {
        this.createCardBtn.setAttribute("disabled", "true");
        var dataObj = _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_2__["modalCardOperationInstance"].createDataObj(); // show loader

        this.preloader.classList.remove('close');
        _card_operations__WEBPACK_IMPORTED_MODULE_1__["cardOperationInstance"].createCard(dataObj).then(function () {
          // hide loader
          _this2.preloader.classList.add('close');

          _this2.createCardBtn.removeAttribute("disabled");

          _this2.close();
        })["catch"](function (error) {
          // hide loader
          _this2.preloader.classList.add('close');

          console.log('Create card error', error);

          _this2.createCardBtn.removeAttribute("disabled");
        });
      } else {
        this.createCardBtn.style.opacity = '0.7';
      }
    }
  }, {
    key: "edit",
    value: function edit() {
      var _this3 = this;

      var currentCardId = _card_operations__WEBPACK_IMPORTED_MODULE_1__["cardOperationInstance"].getCurrentCardId();
      var editedVisit = _shared_modal_card_operation__WEBPACK_IMPORTED_MODULE_2__["modalCardOperationInstance"].createDataObj();
      this.editCardBtn.setAttribute("disabled", "true"); // show loader

      this.preloader.classList.remove('close');
      _card_operations__WEBPACK_IMPORTED_MODULE_1__["cardOperationInstance"].editCard(currentCardId, editedVisit).then(function () {
        // hide loader
        _this3.preloader.classList.add('close');

        _shared_modal_card_validation__WEBPACK_IMPORTED_MODULE_3__["modalCardValidationInstance"].removeFieldsValue();

        _this3.editCardBtn.removeAttribute("disabled");

        _this3.close();
      })["catch"](function (error) {
        // hide loader
        _this3.preloader.classList.add('close');

        console.log('Edit card error', error);

        _this3.editCardBtn.removeAttribute("disabled");
      });
    }
  }, {
    key: "close",
    value: function close() {
      _shared_modal_card_validation__WEBPACK_IMPORTED_MODULE_3__["modalCardValidationInstance"].removeFieldsValue();
      _shared_modal__WEBPACK_IMPORTED_MODULE_0__["modalInstance"].close();
    }
  }]);

  return CreateEditCardModal;
}();

/***/ }),

/***/ "./src/js/drag-and-drop-card.js":
/*!**************************************!*\
  !*** ./src/js/drag-and-drop-card.js ***!
  \**************************************/
/*! exports provided: DragAndDropCard, dragAndDropCardInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DragAndDropCard", function() { return DragAndDropCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragAndDropCardInstance", function() { return dragAndDropCardInstance; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var DragAndDropCard =
/*#__PURE__*/
function () {
  function DragAndDropCard() {
    _classCallCheck(this, DragAndDropCard);

    this.containerCards = document.getElementById('visit-board');
  }

  _createClass(DragAndDropCard, [{
    key: "sortable",
    value: function sortable() {
      new Sortable(this.containerCards, {
        animation: 150
      });
    }
  }]);

  return DragAndDropCard;
}();
var dragAndDropCardInstance = new DragAndDropCard();

/***/ }),

/***/ "./src/js/filter.js":
/*!**************************!*\
  !*** ./src/js/filter.js ***!
  \**************************/
/*! exports provided: Filter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Filter", function() { return Filter; });
/* harmony import */ var _cards_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cards-list */ "./src/js/cards-list.js");
/* harmony import */ var _shared_api_methods__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared/api-methods */ "./src/js/shared/api-methods.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var Filter =
/*#__PURE__*/
function () {
  function Filter() {
    _classCallCheck(this, Filter);

    this.searchBtnFilter = document.getElementById('search-btn');
    this.searchBtnFilter.addEventListener('click', this.filterCards.bind(this));
    this.searchBtnTitle = document.getElementById('search-btn-title');
    this.searchBtnTitle.addEventListener('click', this.filterCards.bind(this));
    this.preloader = document.getElementById('preloader');
  }

  _createClass(Filter, [{
    key: "filterCards",
    value: function filterCards() {
      var _this = this;

      // show loader
      this.preloader.classList.remove('close');
      _shared_api_methods__WEBPACK_IMPORTED_MODULE_1__["apiMethodsInstance"].getCards().then(function (data) {
        // hide loader
        _this.preloader.classList.add('close');

        _this.filterVisit(data);
      })["catch"](function (error) {
        // hide loader
        _this.preloader.classList.add('close');

        console.log('Filter error: ', error);
      });
    }
  }, {
    key: "filterVisit",
    value: function filterVisit(visits) {
      var targetFilter = document.getElementById('filter-title').value.toLowerCase();
      var statusFilter = document.getElementById('filter-status').value;
      var priorityFilter = document.getElementById('filter-priority').value;
      var filteredData = visits.filter(function (item) {
        return (item.title.toLowerCase().includes(targetFilter) || item.description.toLowerCase().includes(targetFilter)) && (item.status === statusFilter || statusFilter === 'Все') && (item.priority === priorityFilter || priorityFilter === 'Все');
      });
      _cards_list__WEBPACK_IMPORTED_MODULE_0__["cardsListInstance"].generateCardsList(filteredData);
    }
  }]);

  return Filter;
}();

/***/ }),

/***/ "./src/js/shared/api-methods.js":
/*!**************************************!*\
  !*** ./src/js/shared/api-methods.js ***!
  \**************************************/
/*! exports provided: apiMethodsInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apiMethodsInstance", function() { return apiMethodsInstance; });
/* harmony import */ var _api_urls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-urls */ "./src/js/shared/api-urls.js");
/* harmony import */ var _medical_data_operations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./medical-data-operations */ "./src/js/shared/medical-data-operations.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }




var APIMethods =
/*#__PURE__*/
function () {
  function APIMethods() {
    _classCallCheck(this, APIMethods);
  }

  _createClass(APIMethods, [{
    key: "getHeaders",
    value: function getHeaders() {
      var token = _medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].getToken();
      return {
        Authorization: "Bearer ".concat(token)
      };
    }
  }, {
    key: "createCard",
    value: function createCard(obj) {
      var authOptions = {
        method: "POST",
        url: _api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].cards,
        data: JSON.stringify(obj),
        headers: this.getHeaders()
      };
      return axios(authOptions).then(function (response) {
        return response.data;
      })["catch"](function (error) {
        return console.log(error);
      });
    }
  }, {
    key: "getCard",
    value: function getCard(cardId) {
      var authOptions = {
        method: "GET",
        url: "".concat(_api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].cards, "/").concat(cardId),
        headers: this.getHeaders()
      };
      return axios(authOptions).then(function (response) {
        return response.data;
      })["catch"](function (error) {
        return console.log(error);
      });
    }
  }, {
    key: "getCards",
    value: function getCards() {
      var authOptions = {
        method: "GET",
        url: _api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].cards,
        headers: this.getHeaders()
      };
      return axios(authOptions).then(function (response) {
        return response.data;
      })["catch"](function (error) {
        return console.log(error);
      });
    }
  }, {
    key: "editCard",
    value: function editCard(cardId, obj) {
      var authOptions = {
        method: "PUT",
        url: "".concat(_api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].cards, "/").concat(cardId),
        data: JSON.stringify(obj),
        headers: this.getHeaders()
      };
      return axios(authOptions).then(function (response) {
        return response.data;
      })["catch"](function (error) {
        return console.log(error);
      });
    }
  }, {
    key: "deleteCard",
    value: function deleteCard(cardId) {
      var authOptions = {
        method: "DELETE",
        url: "".concat(_api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].cards, "/").concat(cardId),
        data: JSON.stringify({}),
        headers: this.getHeaders()
      };
      return axios(authOptions).then(function (response) {
        return response;
      })["catch"](function (error) {
        return console.log(error);
      });
    }
  }]);

  return APIMethods;
}();

var apiMethodsInstance = new APIMethods();

/***/ }),

/***/ "./src/js/shared/api-urls.js":
/*!***********************************!*\
  !*** ./src/js/shared/api-urls.js ***!
  \***********************************/
/*! exports provided: APIURLS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APIURLS", function() { return APIURLS; });
var APIURLS = {
  login: 'http://cards.danit.com.ua/login',
  cards: 'http://cards.danit.com.ua/cards'
};

/***/ }),

/***/ "./src/js/shared/confirm-modal.js":
/*!****************************************!*\
  !*** ./src/js/shared/confirm-modal.js ***!
  \****************************************/
/*! exports provided: confirmModalInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmModalInstance", function() { return confirmModalInstance; });
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal */ "./src/js/shared/modal.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var ConfirmModal =
/*#__PURE__*/
function () {
  function ConfirmModal() {
    _classCallCheck(this, ConfirmModal);
  }

  _createClass(ConfirmModal, [{
    key: "init",
    value: function init() {
      this.okBtn = document.querySelector('.ok-btn');
      this.cancelBtn = document.querySelector('.cancel-btn');
      this.cancelModal = document.querySelector('#confirm-modal .close-btn');
      this.okBtn.addEventListener('click', this.confirm.bind(this));
      this.cancelBtn.addEventListener('click', this.cancel.bind(this));
      this.cancelModal.addEventListener('click', this.cancel.bind(this));
      this.action = null;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.okBtn.removeEventListener('click', this.confirm.bind(this));
      this.cancelBtn.removeEventListener('click', this.cancel.bind(this));
      this.cancelModal.removeEventListener('click', this.cancel.bind(this));
    }
  }, {
    key: "confirm",
    value: function confirm() {
      if (this.action) {
        this.action();
      }
    }
  }, {
    key: "cancel",
    value: function cancel() {
      this.destroy();
      _modal__WEBPACK_IMPORTED_MODULE_0__["modalInstance"].close();
    }
  }]);

  return ConfirmModal;
}();

var confirmModalInstance = new ConfirmModal();

/***/ }),

/***/ "./src/js/shared/header.js":
/*!*********************************!*\
  !*** ./src/js/shared/header.js ***!
  \*********************************/
/*! exports provided: headerInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "headerInstance", function() { return headerInstance; });
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal */ "./src/js/shared/modal.js");
/* harmony import */ var _medical_data_operations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./medical-data-operations */ "./src/js/shared/medical-data-operations.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }




var Header = function Header() {
  var _this = this;

  _classCallCheck(this, Header);

  this.loginBtn = document.getElementById('activation-btn');
  this.modalOverlay = document.querySelector('.modal-overlay');
  this.createBtn = document.getElementById('create-visit-btn');
  this.editCardBtn = document.getElementById('edit-card-btn');
  this.createCardBtn = document.getElementById('create-card-btn');
  var token = _medical_data_operations__WEBPACK_IMPORTED_MODULE_1__["medicalDataOperationsInstance"].hasToken();

  if (token) {
    this.createBtn.classList.remove('close');
    this.createBtn.classList.add('open');
    this.loginBtn.classList.remove('open');
    this.loginBtn.classList.add('close');
  }

  this.loginBtn.addEventListener('click', function () {
    return _modal__WEBPACK_IMPORTED_MODULE_0__["modalInstance"].open('activation-modal');
  });
  this.createBtn.addEventListener('click', function () {
    _this.editCardBtn.classList.add('close');

    _this.createCardBtn.classList.remove('close');

    _modal__WEBPACK_IMPORTED_MODULE_0__["modalInstance"].open('create-cards-modal');
  }); //remove window when clicking outside the window or close button

  this.modalOverlay.addEventListener('click', function () {
    return _modal__WEBPACK_IMPORTED_MODULE_0__["modalInstance"].close();
  });
};

var headerInstance = new Header();

/***/ }),

/***/ "./src/js/shared/medical-data-operations.js":
/*!**************************************************!*\
  !*** ./src/js/shared/medical-data-operations.js ***!
  \**************************************************/
/*! exports provided: medicalDataOperationsInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "medicalDataOperationsInstance", function() { return medicalDataOperationsInstance; });
/* harmony import */ var _medical_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./medical-storage */ "./src/js/shared/medical-storage.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var MedicalDataOperations =
/*#__PURE__*/
function () {
  function MedicalDataOperations() {
    _classCallCheck(this, MedicalDataOperations);

    this.keyStorage = 'cards';
    this.token = 'token';
  }

  _createClass(MedicalDataOperations, [{
    key: "getToken",
    value: function getToken() {
      return _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.token);
    }
  }, {
    key: "hasToken",
    value: function hasToken() {
      return _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].has(this.token);
    }
  }, {
    key: "setToken",
    value: function setToken(valueToken) {
      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.token, valueToken);
    }
  }, {
    key: "getAllCards",
    value: function getAllCards() {
      return _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.keyStorage);
    }
  }, {
    key: "setAllCards",
    value: function setAllCards(cards) {
      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.keyStorage, cards);
    }
  }, {
    key: "createVisit",
    value: function createVisit(visit) {
      var cards = _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.keyStorage) || [];
      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.keyStorage, [].concat(_toConsumableArray(cards), [visit]));
    }
  }, {
    key: "finishStatus",
    value: function finishStatus(id) {
      var storeCards = _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.keyStorage);
      var currentObj = storeCards.find(function (item) {
        return item.id === id;
      });
      currentObj.status = 'Закрыт';
      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.keyStorage, storeCards);
    }
  }, {
    key: "removeCard",
    value: function removeCard(id) {
      var storeCards = _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.keyStorage);
      var index = storeCards.findIndex(function (item) {
        return item.id === id;
      });

      if (index !== -1) {
        storeCards.splice(index, 1);
      }

      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.keyStorage, storeCards);
    }
  }, {
    key: "editCard",
    value: function editCard(id, visit) {
      var storeCards = _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].get(this.keyStorage);
      var index = storeCards.findIndex(function (item) {
        return item.id === id;
      });
      storeCards.splice(index, 1, visit);
      _medical_storage__WEBPACK_IMPORTED_MODULE_0__["medicalStorageInstance"].set(this.keyStorage, storeCards);
    }
  }]);

  return MedicalDataOperations;
}();

var medicalDataOperationsInstance = new MedicalDataOperations();

/***/ }),

/***/ "./src/js/shared/medical-storage.js":
/*!******************************************!*\
  !*** ./src/js/shared/medical-storage.js ***!
  \******************************************/
/*! exports provided: MedicalStorage, medicalStorageInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MedicalStorage", function() { return MedicalStorage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "medicalStorageInstance", function() { return medicalStorageInstance; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MedicalStorage =
/*#__PURE__*/
function () {
  function MedicalStorage() {
    _classCallCheck(this, MedicalStorage);
  }

  _createClass(MedicalStorage, [{
    key: "has",
    value: function has(key) {
      return !!localStorage.getItem("".concat(key));
    }
  }, {
    key: "get",
    value: function get(key) {
      if (localStorage.getItem(key)) {
        return JSON.parse(localStorage.getItem(key));
      }
    }
  }, {
    key: "set",
    value: function set(key, value) {
      localStorage.setItem(key, JSON.stringify(value));
    }
  }]);

  return MedicalStorage;
}();
var medicalStorageInstance = new MedicalStorage();

/***/ }),

/***/ "./src/js/shared/modal-card-operation.js":
/*!***********************************************!*\
  !*** ./src/js/shared/modal-card-operation.js ***!
  \***********************************************/
/*! exports provided: ModalCardOperation, modalCardOperationInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalCardOperation", function() { return ModalCardOperation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalCardOperationInstance", function() { return modalCardOperationInstance; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ModalCardOperation =
/*#__PURE__*/
function () {
  function ModalCardOperation() {
    _classCallCheck(this, ModalCardOperation);

    this.inputBlock = document.getElementById('wrapper-input');
    this.hiddenItem = document.querySelectorAll('.modal__hidden-item');
    this.selectFormSpecialty = document.getElementById('select-form-specialty');
    this.selectBlockSpecialists = document.getElementById('select-block-specialists');
    this.selectDoctor = document.getElementById('select-form-specialty');
    this.doctor = document.getElementById('select-form-specialty');
    this.specialists = document.getElementById('select-specialists');
    this.priority = document.getElementById('select-priority');
    this.status = document.getElementById('select-status');
    this.description = document.getElementById('modal-area');
    this.formInputs = document.getElementsByClassName('modal-form__input');
  } // event handler on click buttons create card (take the values of the inputs and write to the object dataObj)


  _createClass(ModalCardOperation, [{
    key: "createDataObj",
    value: function createDataObj() {
      var specialists = document.getElementById('select-specialists');
      var today = new Date();
      var dd = String(today.getDate()).padStart(2, '0');
      var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!

      var yyyy = today.getFullYear();
      var date = "".concat(dd, "-").concat(mm, "-").concat(yyyy);
      var dataObj = {};
      dataObj.doctor = this.doctor.value;
      dataObj.status = this.status.value;
      dataObj.priority = this.priority.value;
      [].forEach.call(this.formInputs, function (element) {
        dataObj[element.dataset.name] = element.value;
      });
      dataObj.specialists = specialists.value;
      dataObj.description = this.description.value;
      dataObj.date = date;
      return dataObj;
    }
  }, {
    key: "setFieldValues",
    value: function setFieldValues(card) {
      var formInputs = document.getElementsByClassName('modal-form__input'),
          doctor = document.getElementById('select-form-specialty'),
          status = document.getElementById('select-status'),
          priority = document.getElementById('select-priority'),
          specialists = document.getElementById('select-specialists'),
          description = document.getElementById('modal-area');
      doctor.value = card.doctor;
      status.value = card.status;
      priority.value = card.priority;
      specialists.value = card.specialists;
      description.value = card.description;
      [].forEach.call(formInputs, function (element) {
        element.value = card[element.dataset.name];
      });
    } // change event handler in select tag when choosing a doctor

  }, {
    key: "filterForm",
    value: function filterForm(doctor) {
      this.selectDoctor.value = doctor;
      this.inputBlock.innerHTML = "";
      this.hiddenItem.forEach(function (elem) {
        elem.classList.remove('close');
      });
      this.selectBlockSpecialists.innerHTML = this.chooseSpecialist(doctor);
      var inputsDoctor = document.createElement('div');
      inputsDoctor.classList.add('modal-form__input-block');
      inputsDoctor.id = "input-block";
      inputsDoctor.innerHTML = this.chooseInputsDoctor(this.selectFormSpecialty.value);
      this.inputBlock.append(inputsDoctor);
    }
  }, {
    key: "chooseSpecialist",
    value: function chooseSpecialist(doctor) {
      switch (doctor) {
        case 'Терапевт':
          return "<p class=\"modal-form__select-description\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442: </p>\n                    <select class=\"modal-form__select\" id=\"select-specialists\">\n                        <option class=\"modal-form__select-item\" value=\"\u041A\u043E\u0448\u0435\u0432\u043E\u0439 \u0418.\u0418.\">\u041A\u043E\u0448\u0435\u0432\u043E\u0439 \u0418.\u0418.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u0420\u0430\u0431\u0438\u043D\u043E\u0432\u0438\u0447 \u0410.\u0417.\">\u0420\u0430\u0431\u0438\u043D\u043E\u0432\u0438\u0447 \u0410.\u0417.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u041C\u0430\u0440\u0447\u0435\u043D\u043A\u043E \u0410.\u0418.\">\u041C\u0430\u0440\u0447\u0435\u043D\u043A\u043E \u0410.\u0418.</option>\n                    </select>";

        case 'Стоматолог':
          return "<p class=\"modal-form__select-description\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442: </p>\n                    <select class=\"modal-form__select\" id=\"select-specialists\">\n                        <option class=\"modal-form__select-item\" value=\"\u0417\u0443\u0431\u0447\u0435\u043D\u043A\u043E \u0420.\u0414.\">\u0417\u0443\u0431\u0447\u0435\u043D\u043A\u043E \u0420.\u0414.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u042F\u043A\u043E\u0432\u0435\u043D\u043A\u043E \u0421.\u0417.\">\u042F\u043A\u043E\u0432\u0435\u043D\u043A\u043E \u0421.\u0417.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u041F\u0435\u0442\u0440\u043E\u0432 \u0412.\u0418.\">\u041F\u0435\u0442\u0440\u043E\u0432 \u0412.\u0418.</option>\n                    </select>";

        case 'Кардиолог':
          return "<p class=\"modal-form__select-description\">C\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442: </p>\n                    <select class=\"modal-form__select\" id=\"select-specialists\">\n                        <option class=\"modal-form__select-item\" value=\"\u0410\u043B\u0435\u043A\u0441\u0435\u0435\u0432 \u0421.\u0418.\">\u0410\u043B\u0435\u043A\u0441\u0435\u0435\u0432 \u0421.\u0418.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u0410\u0431\u0440\u0430\u043C\u043E\u0432\u0438\u0447 \u0410.\u041D.\">\u0410\u0431\u0440\u0430\u043C\u043E\u0432\u0438\u0447 \u0410.\u041D.</option>\n                        <option class=\"modal-form__select-item\" value=\"\u041E\u043D\u0438\u0449\u0435\u043D\u043A\u043E \u0412.\u0418.\">\u041E\u043D\u0438\u0449\u0435\u043D\u043A\u043E \u0412.\u0418.</option>\n                    </select>";

        default:
          this.selectBlockSpecialists.innerHTML = "";
      }
    }
  }, {
    key: "chooseInputsDoctor",
    value: function chooseInputsDoctor(doctor) {
      switch (doctor) {
        case 'Терапевт':
          return "<input type=\"text\" placeholder=\"\u0424\u0418\u041E*\" class=\"modal-form__input\" id=\"input-name\" data-name=\"name\" >\n                    <input type=\"text\" placeholder=\"\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430*\" class=\"modal-form__input input-title\" id=\"input-title\" data-name=\"title\">\n                    <input type=\"text\" placeholder=\"\u0412\u043E\u0437\u0440\u0430\u0441\u0442*\" class=\"modal-form__input input-age\" id=\"input-age\" data-name=\"age\">";

        case 'Стоматолог':
          return "<input type=\"text\" placeholder=\"\u0424\u0418\u041E*\" class=\"modal-form__input\" id=\"input-name\" data-name=\"name\" >                  \n                    <input type=\"text\" placeholder=\"\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430*\" class=\"modal-form__input\" id=\"input-title\" data-name=\"title\">\n                    <input type=\"text\" placeholder=\"\u0414\u0430\u0442\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u044F (\u0434\u0434.\u043C\u043C.\u0433\u0433\u0433\u0433)*\"\n                           class=\"modal-form__input modal-form__input-date\"\n                           id=\"input-lastVisit\"\n                           data-name=\"lastVisit\">";

        case 'Кардиолог':
          return "<input type=\"text\" placeholder=\"\u0424\u0418\u041E*\" class=\"modal-form__input\" id=\"input-name\" data-name=\"name\" >\n                    <input type=\"text\" placeholder=\"\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430*\" class=\"modal-form__input\" id=\"input-title\" data-name=\"title\">\n                    <input type=\"text\" placeholder=\"\u0412\u043E\u0437\u0440\u0430\u0441\u0442*\" class=\"modal-form__input\" id=\"input-age\" data-name=\"age\">                 \n                    <input type=\"text\" placeholder=\"\u041E\u0431\u044B\u0447\u043D\u043E\u0435 \u0434\u0430\u0432\u043B\u0435\u043D\u0438\u0435*\" class=\"modal-form__input\" id=\"input-pressure\"\n                           data-name=\"pressure\">\n                    <input type=\"text\" placeholder=\"\u0418\u043D\u0434\u0435\u043A\u0441 \u043C\u0430\u0441\u0441\u044B \u0442\u0435\u043B\u0430*\" class=\"modal-form__input\" id=\"input-weight\"\n                           data-name=\"weight\">\n                    <input type=\"text\" placeholder=\"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0435\u043D\u043D\u044B\u0435 \u0437\u0430\u0431\u043E\u043B\u0435\u0432\u0430\u043D\u0438\u044F \u0441\u0435\u0440\u0434\u0435\u0447\u043D\u043E-\u0441\u043E\u0441\u0443\u0434\u0438\u0441\u0442\u043E\u0439 \u0441\u0438\u0441\u0442\u0435\u043C\u044B*\"\n                           class=\"modal-form__input\" id=input-illness\" data-name=\"illness\">";

        default:
          return "<input type=\"text\" placeholder=\"\u0424\u0418\u041E*\" class=\"modal-form__input input-name\" data-name=\"name\" >\n                    <input type=\"text\" placeholder=\"\u0426\u0435\u043B\u044C \u0432\u0438\u0437\u0438\u0442\u0430*\" class=\"modal-form__input\" id=\"input-title\" data-name=\"title\">\n                    <input type=\"text\" placeholder=\"\u0412\u043E\u0437\u0440\u0430\u0441\u0442*\" class=\"modal-form__input\" id=\"input-age\" data-name=\"age\">";
      }
    }
  }]);

  return ModalCardOperation;
}();
var modalCardOperationInstance = new ModalCardOperation();

/***/ }),

/***/ "./src/js/shared/modal-card-validation.js":
/*!************************************************!*\
  !*** ./src/js/shared/modal-card-validation.js ***!
  \************************************************/
/*! exports provided: ModalCardValidation, modalCardValidationInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalCardValidation", function() { return ModalCardValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalCardValidationInstance", function() { return modalCardValidationInstance; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ModalCardValidation =
/*#__PURE__*/
function () {
  function ModalCardValidation() {
    _classCallCheck(this, ModalCardValidation);

    this.doctor = document.getElementById('select-form-specialty');
    this.specialists = document.getElementById('select-specialists');
    this.priority = document.getElementById('select-priority');
    this.status = document.getElementById('select-status');
    this.description = document.getElementById('modal-area');
    this.form = document.getElementById('form');
    this.formInputs = document.getElementsByClassName('modal-form__input');
    this.hiddenItem = document.querySelectorAll('.modal__hidden-item');
    this.createCardBtn = document.getElementById('create-card-btn');
  }

  _createClass(ModalCardValidation, [{
    key: "removeFieldsValue",
    value: function removeFieldsValue() {
      this.removeValidation();
      this.doctor.selectedIndex = 0;
      this.priority.selectedIndex = 0;
      this.status.selectedIndex = 0;
      this.hiddenItem.forEach(function (elem) {
        elem.classList.add('close');
      });
      [].forEach.call(this.formInputs, function (element) {
        element.classList.add('close');
      });
      this.description.value = '';
    }
  }, {
    key: "generateError",
    value: function generateError(text) {
      var error = document.createElement('div');
      error.className = 'error';
      error.style.color = 'red';
      error.innerHTML = text;
      return error;
    }
  }, {
    key: "removeValidation",
    value: function removeValidation() {
      var errors = this.form.querySelectorAll('.error');
      errors.forEach(function (item) {
        return item.remove();
      });
      this.createCardBtn.style.opacity = '1';
    }
  }, {
    key: "checkFieldsPresence",
    value: function checkFieldsPresence() {
      var _this = this;

      var emptyInput = 0;
      var formInputs = document.getElementsByClassName('modal-form__input');
      [].forEach.call(formInputs, function (element) {
        if (!element.value.trim()) {
          var error = _this.generateError('Заполните это поле');

          element.before(error);
          emptyInput++;
        }
      });
      return emptyInput === 0;
    }
  }]);

  return ModalCardValidation;
}();
var modalCardValidationInstance = new ModalCardValidation();

/***/ }),

/***/ "./src/js/shared/modal.js":
/*!********************************!*\
  !*** ./src/js/shared/modal.js ***!
  \********************************/
/*! exports provided: modalInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalInstance", function() { return modalInstance; });
/* harmony import */ var _modal_card_validation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal-card-validation */ "./src/js/shared/modal-card-validation.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var Modal =
/*#__PURE__*/
function () {
  function Modal() {
    _classCallCheck(this, Modal);

    this.currentModalId = null;
    this.overlay = null;
  }

  _createClass(Modal, [{
    key: "open",
    value: function open(modalId) {
      var _this = this;

      document.getElementById(modalId).classList.remove('close');
      document.getElementById(modalId).classList.add('open');
      this.currentModalId = modalId;
      this.openOverlay();
      this.overlay.addEventListener('click', function () {
        _modal_card_validation__WEBPACK_IMPORTED_MODULE_0__["modalCardValidationInstance"].removeFieldsValue();

        _this.close();

        _this.close();
      });
    }
  }, {
    key: "close",
    value: function close() {
      if (this.currentModalId) {
        document.getElementById(this.currentModalId).classList.remove('open');
        document.getElementById(this.currentModalId).classList.add('close');
        this.closeOverlay();
      } else {
        console.log(new Error('You do not have any modal opened!'));
      }
    }
  }, {
    key: "openOverlay",
    value: function openOverlay() {
      document.querySelector('.modal-overlay').classList.add('open');
      document.querySelector('.modal-overlay').classList.remove('close');
      this.overlay = document.querySelector('.modal-overlay');
    }
  }, {
    key: "closeOverlay",
    value: function closeOverlay() {
      this.overlay.classList.add('close');
      this.overlay.classList.remove('open');
    }
  }]);

  return Modal;
}();

var modalInstance = new Modal();

/***/ }),

/***/ "./src/js/user.js":
/*!************************!*\
  !*** ./src/js/user.js ***!
  \************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var _shared_api_urls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared/api-urls */ "./src/js/shared/api-urls.js");
/* harmony import */ var _shared_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared/modal */ "./src/js/shared/modal.js");
/* harmony import */ var _shared_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared/header */ "./src/js/shared/header.js");
/* harmony import */ var _cards_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cards-list */ "./src/js/cards-list.js");
/* harmony import */ var _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/medical-data-operations */ "./src/js/shared/medical-data-operations.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }






var User =
/*#__PURE__*/
function () {
  function User() {
    var _this = this;

    _classCallCheck(this, User);

    this.errorMessage = document.getElementById('error-message');
    this.loginCloseBtn = document.querySelector('#activation-modal .close-btn');
    this.loginCloseBtn = document.querySelector('#activation-modal .close-btn');
    this.submitBtn = document.getElementById('submitBtn');
    this.preloader = document.getElementById('preloader');
    this.loginCloseBtn.addEventListener('click', function () {
      _this.errorMessage.classList.add('close');

      _shared_modal__WEBPACK_IMPORTED_MODULE_1__["modalInstance"].close('activation-modal');
    });
    this.submitBtn.addEventListener('click', this.login.bind(this));
  }

  _createClass(User, [{
    key: "login",
    value: function login() {
      var _this2 = this;

      var emailValue = document.getElementById('email').value;
      var passwordValue = document.getElementById('password').value;
      var data = {
        email: emailValue,
        password: passwordValue
      };
      var authOptions = {
        method: "POST",
        url: _shared_api_urls__WEBPACK_IMPORTED_MODULE_0__["APIURLS"].login,
        data: JSON.stringify(data)
      }; // show loader

      this.preloader.classList.remove('close');
      axios(authOptions).then(function (response) {
        // hide loader
        _this2.preloader.classList.add('close');

        if (response.data && response.data.token !== null) {
          _shared_medical_data_operations__WEBPACK_IMPORTED_MODULE_4__["medicalDataOperationsInstance"].setToken(response.data.token);
          _shared_modal__WEBPACK_IMPORTED_MODULE_1__["modalInstance"].close('activation-modal');
          _shared_header__WEBPACK_IMPORTED_MODULE_2__["headerInstance"].loginBtn.classList.add('close');
          _shared_header__WEBPACK_IMPORTED_MODULE_2__["headerInstance"].createBtn.classList.remove('close');
          _shared_header__WEBPACK_IMPORTED_MODULE_2__["headerInstance"].createBtn.classList.add('open');
          _cards_list__WEBPACK_IMPORTED_MODULE_3__["cardsListInstance"].getCardList();
        } else {
          _this2.errorMessage.classList.remove('close');

          _this2.errorMessage.innerText = "".concat(response.data.message, "!!!");
        }
      })["catch"](function (error) {
        // hide loader
        _this2.preloader.classList.add('close');

        console.log('Login error: ', error);
      });
    }
  }]);

  return User;
}();

/***/ }),

/***/ "./src/js/visits/cardiologist.js":
/*!***************************************!*\
  !*** ./src/js/visits/cardiologist.js ***!
  \***************************************/
/*! exports provided: Cardiologist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cardiologist", function() { return Cardiologist; });
/* harmony import */ var _visit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./visit */ "./src/js/visits/visit.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


var Cardiologist =
/*#__PURE__*/
function (_Visit) {
  _inherits(Cardiologist, _Visit);

  function Cardiologist(obj) {
    var _this;

    _classCallCheck(this, Cardiologist);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Cardiologist).call(this, obj));
    _this.pressure = obj.pressure;
    _this.weight = obj.weight;
    _this.illness = obj.illness;
    _this.age = obj.age;
    return _this;
  }

  return Cardiologist;
}(_visit__WEBPACK_IMPORTED_MODULE_0__["Visit"]);

/***/ }),

/***/ "./src/js/visits/dentist.js":
/*!**********************************!*\
  !*** ./src/js/visits/dentist.js ***!
  \**********************************/
/*! exports provided: Dentist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dentist", function() { return Dentist; });
/* harmony import */ var _visit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./visit */ "./src/js/visits/visit.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


var Dentist =
/*#__PURE__*/
function (_Visit) {
  _inherits(Dentist, _Visit);

  function Dentist(obj) {
    var _this;

    _classCallCheck(this, Dentist);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dentist).call(this, obj));
    _this.lastVisit = obj.lastVisit;
    return _this;
  }

  return Dentist;
}(_visit__WEBPACK_IMPORTED_MODULE_0__["Visit"]);

/***/ }),

/***/ "./src/js/visits/therapist.js":
/*!************************************!*\
  !*** ./src/js/visits/therapist.js ***!
  \************************************/
/*! exports provided: Therapist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Therapist", function() { return Therapist; });
/* harmony import */ var _visit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./visit */ "./src/js/visits/visit.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


var Therapist =
/*#__PURE__*/
function (_Visit) {
  _inherits(Therapist, _Visit);

  function Therapist(obj) {
    var _this;

    _classCallCheck(this, Therapist);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Therapist).call(this, obj));
    _this.age = obj.age;
    return _this;
  }

  return Therapist;
}(_visit__WEBPACK_IMPORTED_MODULE_0__["Visit"]);

/***/ }),

/***/ "./src/js/visits/visit.js":
/*!********************************!*\
  !*** ./src/js/visits/visit.js ***!
  \********************************/
/*! exports provided: Visit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Visit", function() { return Visit; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Visit = function Visit(obj) {
  _classCallCheck(this, Visit);

  this.doctor = obj.doctor;
  this.date = obj.date;
  this.name = obj.name;
  this.status = obj.status;
  this.priority = obj.priority;
  this.title = obj.title;
  this.description = obj.description;
  this.specialists = obj.specialists;
  this.id = obj.id;
};

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2FyZC1vcGVyYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jYXJkcy1saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jcmVhdGUtZWRpdC1jYXJkLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9kcmFnLWFuZC1kcm9wLWNhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2hhcmVkL2FwaS1tZXRob2RzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9zaGFyZWQvYXBpLXVybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NoYXJlZC9jb25maXJtLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9zaGFyZWQvaGVhZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9zaGFyZWQvbWVkaWNhbC1kYXRhLW9wZXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NoYXJlZC9tZWRpY2FsLXN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NoYXJlZC9tb2RhbC1jYXJkLW9wZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2hhcmVkL21vZGFsLWNhcmQtdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2hhcmVkL21vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aXNpdHMvY2FyZGlvbG9naXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aXNpdHMvZGVudGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlzaXRzL3RoZXJhcGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlzaXRzL3Zpc2l0LmpzIl0sIm5hbWVzIjpbIkFwcCIsIlVzZXIiLCJDcmVhdGVFZGl0Q2FyZE1vZGFsIiwiQ2FyZE9wZXJhdGlvbnMiLCJGaWx0ZXIiLCJkcmFnQW5kRHJvcENhcmRJbnN0YW5jZSIsInNvcnRhYmxlIiwiaW5pdCIsInZpc2l0Qm9hcmQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYm9hcmRNZXNzYWdlIiwicXVlcnlTZWxlY3RvciIsImNhcmRMaXN0IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNyZWF0ZUNhcmRCdG4iLCJlZGl0Q2FyZEJ0biIsImNsb3NlQnRuIiwicHJlbG9hZGVyIiwiYmFja2dyb3VuZENhcmRTRmluaXNoIiwiYmFja2dyb3VuZENhcmRTT3BlbiIsImN1cnJlbnRDYXJkSWQiLCJ2aXNpdCIsImNhcmQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiZGF0YXNldCIsImlkIiwic3RhdHVzIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYXJkQmxvY2siLCJpbm5lckhUTUwiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDYXJkIiwiYXBwZW5kIiwiZHJhZ0ljb24iLCJjYXJkTmFtZSIsImlubmVyVGV4dCIsIm5hbWUiLCJjYXJkRG9jdG9yIiwiZG9jdG9yIiwiY2hhbmdlQnRuIiwiZHJvcGRvd24iLCJkcm9wZG93bkNvbnRlbnQiLCJldmVudCIsImNoYW5nZUNhcmRzIiwiaGlkZGVuQmxvY2siLCJnZXREb2N0b3JJbnB1dCIsInNob3dNb3JlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29udGFpbnMiLCJhZGQiLCJzcGVjaWFsaXN0cyIsInByaW9yaXR5IiwiZGF0ZSIsImFnZSIsImRlc2NyaXB0aW9uIiwibGFzdFZpc2l0IiwicHJlc3N1cmUiLCJ3ZWlnaHQiLCJpbGxuZXNzIiwiY2FyZElkIiwiY3VycmVudEJ1dHRvbklkIiwidGFyZ2V0IiwiZmluaXNoU3RhdHVzIiwib3BlbkVkaXRDYXJkTW9kYWwiLCJjdXJyZW50Q2FyZCIsIm1vZGFsSW5zdGFuY2UiLCJvcGVuIiwic2V0VGltZW91dCIsImNvbmZpcm1Nb2RhbEluc3RhbmNlIiwiYWN0aW9uIiwicmVtb3ZlIiwiYXBpTWV0aG9kc0luc3RhbmNlIiwiZGVsZXRlQ2FyZCIsInRoZW4iLCJtZWRpY2FsRGF0YU9wZXJhdGlvbnNJbnN0YW5jZSIsImxlbmd0aCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYW5jZWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXRDYXJkIiwiZGF0YSIsImVkaXRDYXJkIiwiYm9yZGVyQ29sb3IiLCJtb2RhbENhcmRPcGVyYXRpb25JbnN0YW5jZSIsImZpbHRlckZvcm0iLCJzZXRGaWVsZFZhbHVlcyIsInNldEN1cnJlbnRDYXJkSWQiLCJkYXRhT2JqIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJlZGl0ZWRWaXNpdCIsImNhcmRCbG9ja0ZvclBhZ2UiLCJidWlsZENhcmQiLCJmaXJzdENoaWxkIiwiVGhlcmFwaXN0IiwiRGVudGlzdCIsIkNhcmRpb2xvZ2lzdCIsImNhcmRGb3JQYWdlIiwiY3JlYXRlVmlzaXQiLCJjYXJkT3BlcmF0aW9uSW5zdGFuY2UiLCJDYXJkc0xpc3QiLCJ0b2tlbiIsImhhc1Rva2VuIiwiZ2V0Q2FyZExpc3QiLCJnZXRDYXJkcyIsImdlbmVyYXRlQ2FyZHNMaXN0Iiwic2V0QWxsQ2FyZHMiLCJjYXJkc0FycmF5IiwiZ2V0QWxsQ2FyZHMiLCJmb3JFYWNoIiwiY2FyZHNGb3JQYWdlIiwiY2FyZHNMaXN0SW5zdGFuY2UiLCJzZWxlY3RGb3JtU3BlY2lhbHR5IiwiY3JlYXRlTW9kYWxDbG9zZUJ0biIsInZhbHVlIiwiY3JlYXRlIiwiYmluZCIsImVkaXQiLCJjbG9zZSIsInJlbW92ZUF0dHJpYnV0ZSIsIm1vZGFsQ2FyZFZhbGlkYXRpb25JbnN0YW5jZSIsInJlbW92ZVZhbGlkYXRpb24iLCJpc1ZhbGlkIiwiY2hlY2tGaWVsZHNQcmVzZW5jZSIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZURhdGFPYmoiLCJvcGFjaXR5IiwiZ2V0Q3VycmVudENhcmRJZCIsInJlbW92ZUZpZWxkc1ZhbHVlIiwiRHJhZ0FuZERyb3BDYXJkIiwiY29udGFpbmVyQ2FyZHMiLCJTb3J0YWJsZSIsImFuaW1hdGlvbiIsInNlYXJjaEJ0bkZpbHRlciIsImZpbHRlckNhcmRzIiwic2VhcmNoQnRuVGl0bGUiLCJmaWx0ZXJWaXNpdCIsInZpc2l0cyIsInRhcmdldEZpbHRlciIsInRvTG93ZXJDYXNlIiwic3RhdHVzRmlsdGVyIiwicHJpb3JpdHlGaWx0ZXIiLCJmaWx0ZXJlZERhdGEiLCJmaWx0ZXIiLCJpdGVtIiwiaW5jbHVkZXMiLCJBUElNZXRob2RzIiwiZ2V0VG9rZW4iLCJBdXRob3JpemF0aW9uIiwib2JqIiwiYXV0aE9wdGlvbnMiLCJtZXRob2QiLCJ1cmwiLCJBUElVUkxTIiwiY2FyZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsImdldEhlYWRlcnMiLCJheGlvcyIsInJlc3BvbnNlIiwibG9naW4iLCJDb25maXJtTW9kYWwiLCJva0J0biIsImNhbmNlbEJ0biIsImNhbmNlbE1vZGFsIiwiY29uZmlybSIsImRlc3Ryb3kiLCJIZWFkZXIiLCJsb2dpbkJ0biIsIm1vZGFsT3ZlcmxheSIsImNyZWF0ZUJ0biIsImhlYWRlckluc3RhbmNlIiwiTWVkaWNhbERhdGFPcGVyYXRpb25zIiwia2V5U3RvcmFnZSIsIm1lZGljYWxTdG9yYWdlSW5zdGFuY2UiLCJnZXQiLCJoYXMiLCJ2YWx1ZVRva2VuIiwic2V0Iiwic3RvcmVDYXJkcyIsImN1cnJlbnRPYmoiLCJmaW5kIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJNZWRpY2FsU3RvcmFnZSIsImtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZSIsInNldEl0ZW0iLCJNb2RhbENhcmRPcGVyYXRpb24iLCJpbnB1dEJsb2NrIiwiaGlkZGVuSXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWxlY3RCbG9ja1NwZWNpYWxpc3RzIiwic2VsZWN0RG9jdG9yIiwiZm9ybUlucHV0cyIsInRvZGF5IiwiRGF0ZSIsImRkIiwiU3RyaW5nIiwiZ2V0RGF0ZSIsInBhZFN0YXJ0IiwibW0iLCJnZXRNb250aCIsInl5eXkiLCJnZXRGdWxsWWVhciIsImNhbGwiLCJlbGVtZW50IiwiZWxlbSIsImNob29zZVNwZWNpYWxpc3QiLCJpbnB1dHNEb2N0b3IiLCJjaG9vc2VJbnB1dHNEb2N0b3IiLCJNb2RhbENhcmRWYWxpZGF0aW9uIiwiZm9ybSIsInNlbGVjdGVkSW5kZXgiLCJ0ZXh0IiwiY29sb3IiLCJlcnJvcnMiLCJlbXB0eUlucHV0IiwidHJpbSIsImdlbmVyYXRlRXJyb3IiLCJiZWZvcmUiLCJNb2RhbCIsImN1cnJlbnRNb2RhbElkIiwib3ZlcmxheSIsIm1vZGFsSWQiLCJvcGVuT3ZlcmxheSIsImNsb3NlT3ZlcmxheSIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibG9naW5DbG9zZUJ0biIsInN1Ym1pdEJ0biIsImVtYWlsVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwiZW1haWwiLCJwYXNzd29yZCIsInNldFRva2VuIiwibWVzc2FnZSIsIlZpc2l0Il0sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFB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Y2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9qcy9hcHAuanNcIik7XG4iLCJpbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4vdXNlclwiO1xuaW1wb3J0IHsgQ3JlYXRlRWRpdENhcmRNb2RhbCB9IGZyb20gXCIuL2NyZWF0ZS1lZGl0LWNhcmQtbW9kYWxcIjtcbmltcG9ydCB7IENhcmRPcGVyYXRpb25zIH0gZnJvbSBcIi4vY2FyZC1vcGVyYXRpb25zXCI7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9maWx0ZXJcIjtcblxuaW1wb3J0IHsgZHJhZ0FuZERyb3BDYXJkSW5zdGFuY2UgfSBmcm9tIFwiLi9kcmFnLWFuZC1kcm9wLWNhcmRcIjtcblxuY2xhc3MgQXBwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgbmV3IFVzZXIoKTtcbiAgICAgICAgbmV3IENyZWF0ZUVkaXRDYXJkTW9kYWwoKTtcbiAgICAgICAgbmV3IENhcmRPcGVyYXRpb25zKCk7XG4gICAgICAgIG5ldyBGaWx0ZXIoKTtcblxuICAgICAgICBkcmFnQW5kRHJvcENhcmRJbnN0YW5jZS5zb3J0YWJsZSgpO1xuICAgIH1cbn1cblxuQXBwLmluaXQoKTtcbiIsImltcG9ydCB7IGFwaU1ldGhvZHNJbnN0YW5jZSB9IGZyb20gXCIuL3NoYXJlZC9hcGktbWV0aG9kc1wiO1xuaW1wb3J0IHsgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvbWVkaWNhbC1kYXRhLW9wZXJhdGlvbnNcIjtcbmltcG9ydCB7IG1vZGFsSW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvbW9kYWxcIjtcbmltcG9ydCB7IGNvbmZpcm1Nb2RhbEluc3RhbmNlIH0gZnJvbSBcIi4vc2hhcmVkL2NvbmZpcm0tbW9kYWxcIjtcbmltcG9ydCB7IG1vZGFsQ2FyZE9wZXJhdGlvbkluc3RhbmNlIH0gZnJvbSBcIi4vc2hhcmVkL21vZGFsLWNhcmQtb3BlcmF0aW9uXCI7XG5cbmltcG9ydCB7IFRoZXJhcGlzdCB9IGZyb20gXCIuL3Zpc2l0cy90aGVyYXBpc3RcIjtcbmltcG9ydCB7IERlbnRpc3QgfSBmcm9tIFwiLi92aXNpdHMvZGVudGlzdFwiO1xuaW1wb3J0IHsgQ2FyZGlvbG9naXN0IH0gZnJvbSBcIi4vdmlzaXRzL2NhcmRpb2xvZ2lzdFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZE9wZXJhdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZpc2l0Qm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlzaXQtYm9hcmQnKTtcbiAgICAgICAgdGhpcy5ib2FyZE1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYm9hcmQtbWVzc2FnZScpO1xuICAgICAgICB0aGlzLmNhcmRMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmlzaXQtY2FyZCcpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhcmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLWNhcmQtYnRuJyk7XG4gICAgICAgIHRoaXMuZWRpdENhcmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1jYXJkLWJ0bicpO1xuICAgICAgICB0aGlzLmNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xuICAgICAgICB0aGlzLnByZWxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVsb2FkZXInKTtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRDYXJkU0ZpbmlzaCA9ICcjOTQ5NDk0JztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ2FyZFNPcGVuID0gJyM2NThlZmYnO1xuXG4gICAgICAgIHRoaXMuY3VycmVudENhcmRJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgYnVpbGRDYXJkKHZpc2l0KSB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSAndmlzaXQtY2FyZCc7XG4gICAgICAgIGNhcmQuZGF0YXNldC5pZCA9IGAke3Zpc2l0LmlkIHx8ICcnfWA7XG5cbiAgICAgICAgaWYgKHZpc2l0LnN0YXR1cyA9PT0gJ9CX0LDQutGA0YvRgicpIHtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYCR7dGhpcy5iYWNrZ3JvdW5kQ2FyZFNGaW5pc2h9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhcmRCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjYXJkQmxvY2suY2xhc3NOYW1lID0gJ2NhcmQtYmxvY2snO1xuXG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7JztcbiAgICAgICAgY2xvc2VCdG4uY2xhc3NOYW1lID0gXCJjbG9zZS1idG5cIjtcbiAgICAgICAgY2xvc2VCdG4udGl0bGUgPSBcItCj0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YNcIjtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnJlbW92ZUNhcmQoY2FyZC5kYXRhc2V0LmlkKSk7XG5cbiAgICAgICAgY2FyZEJsb2NrLmFwcGVuZChjbG9zZUJ0bik7XG5cbiAgICAgICAgY29uc3QgZHJhZ0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZHJhZ0ljb24uY2xhc3NOYW1lID0gXCJjYXJkLWRyb3BcIjtcbiAgICAgICAgZHJhZ0ljb24uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiaWNvbi1tb3ZlLTEgaGFuZGxlXCI+PC9pPmA7XG5cbiAgICAgICAgY2FyZEJsb2NrLmFwcGVuZChkcmFnSWNvbik7XG5cbiAgICAgICAgY29uc3QgY2FyZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGNhcmROYW1lLmlubmVyVGV4dCA9IGDQpNCY0J46ICAke3Zpc2l0Lm5hbWV9YDtcbiAgICAgICAgY2FyZE5hbWUuY2xhc3NOYW1lID0gJ2NhcmQtbmFtZSc7XG5cbiAgICAgICAgY2FyZEJsb2NrLmFwcGVuZChjYXJkTmFtZSk7XG5cbiAgICAgICAgY29uc3QgY2FyZERvY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgY2FyZERvY3Rvci5pbm5lclRleHQgPSBg0JTQvtC60YLQvtGAOiAgJHt2aXNpdC5kb2N0b3J9YDtcbiAgICAgICAgY2FyZERvY3Rvci5jbGFzc05hbWUgPSAnY2FyZC1kb2N0b3InO1xuXG4gICAgICAgIGNhcmRCbG9jay5hcHBlbmQoY2FyZERvY3Rvcik7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNoYW5nZUJ0bi5jbGFzc05hbWUgPSAnd3JhcHBlci1jaGFuZ2VCdG4nO1xuXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRyb3Bkb3duLmNsYXNzTmFtZSA9ICdkcm9wZG93bic7XG4gICAgICAgIGRyb3Bkb3duLmlubmVySFRNTCA9IGA8YnV0dG9uIGNsYXNzPVwiaWNvbi1kb3QtMyBkcm9wZG93bl9fY2hhbmdlLWJ0blwiPjwvYnV0dG9uPmA7XG5cbiAgICAgICAgY2hhbmdlQnRuLmFwcGVuZChkcm9wZG93bik7XG5cbiAgICAgICAgY29uc3QgZHJvcGRvd25Db250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRyb3Bkb3duQ29udGVudC5jbGFzc05hbWUgPSAnZHJvcGRvd25fX2NvbnRlbnQnO1xuICAgICAgICBkcm9wZG93bkNvbnRlbnQuaW5uZXJIVE1MID0gYDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJkcm9wZG93bl9fbGluayBsaW5rLXJlbW92ZVwiIGRhdGEtaWQ9XCJkcm9wZG93bi1yZW1vdmVcIj7Qo9C00LDQu9C40YLRjDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiZHJvcGRvd25fX2xpbmsgbGluay1lZGl0XCIgZGF0YS1pZD1cImRyb3Bkb3duLWVkaXRcIj7QoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiZHJvcGRvd25fX2xpbmsgbGluay1maW5pc2hcIiBkYXRhLWlkPVwiZHJvcGRvd24tZmluaXNoXCI+0JfQsNCy0LXRgNGI0LjRgtGMPC9hPmA7XG5cbiAgICAgICAgZHJvcGRvd25Db250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB0aGlzLmNoYW5nZUNhcmRzKGV2ZW50LCBjYXJkLmRhdGFzZXQuaWQpKTtcblxuICAgICAgICBkcm9wZG93bi5hcHBlbmQoZHJvcGRvd25Db250ZW50KTtcbiAgICAgICAgY2FyZEJsb2NrLmFwcGVuZChjaGFuZ2VCdG4pO1xuXG4gICAgICAgIGNvbnN0IGhpZGRlbkJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGhpZGRlbkJsb2NrLmNsYXNzTmFtZSA9IFwiaGlkZGVuLWJsb2NrIGhpZGRlblwiO1xuXG4gICAgICAgIGhpZGRlbkJsb2NrLmlubmVySFRNTCA9IHRoaXMuZ2V0RG9jdG9ySW5wdXQodmlzaXQpO1xuXG4gICAgICAgIGNhcmRCbG9jay5hcHBlbmQoaGlkZGVuQmxvY2spO1xuXG4gICAgICAgIGNvbnN0IHNob3dNb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBzaG93TW9yZS5pbm5lclRleHQgPSAn0J/QvtC60LDQt9Cw0YLRjCDQsdC+0LvRjNGI0LUnO1xuICAgICAgICBzaG93TW9yZS5jbGFzc05hbWUgPSAnc2hvdy1tb3JlJztcblxuICAgICAgICBzaG93TW9yZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGhpZGRlbkJsb2NrLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICBzaG93TW9yZS5pbm5lclRleHQgPSBoaWRkZW5CbG9jay5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpID8gJ9Cf0L7QutCw0LfQsNGC0Ywg0LHQvtC70YzRiNC1JyA6ICfQn9C+0LrQsNC30LDRgtGMINC80LXQvdGM0YjQtSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhcmRCbG9jay5hcHBlbmQoc2hvd01vcmUpO1xuXG4gICAgICAgIGlmICh0aGlzLmJvYXJkTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhcmQuYXBwZW5kKGNhcmRCbG9jayk7XG5cbiAgICAgICAgcmV0dXJuIHtjYXJkLCBjYXJkQmxvY2t9O1xuICAgIH07XG5cbiAgICBnZXREb2N0b3JJbnB1dCh2aXNpdCkge1xuICAgICAgICBzd2l0Y2ggKHZpc2l0LmRvY3Rvcikge1xuICAgICAgICAgICAgY2FzZSAn0KLQtdGA0LDQv9C10LLRgic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8cCBjbGFzcz1cImNhcmQtc3BlY2lhbGlzdHNcIj5D0L/QtdGG0LjQsNC70LjRgdGCOiAgJHt2aXNpdC5zcGVjaWFsaXN0c308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtc3RhdHVzXCI+0KHRgtCw0YLRg9GBOiAgJHt2aXNpdC5zdGF0dXN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLXByaW9yaXR5XCI+0J/RgNC40L7RgNC40YLQtdGCOiAgJHt2aXNpdC5wcmlvcml0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1kYXRlXCI+0JTQsNGC0LA6ICAke3Zpc2l0LmRhdGV9PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLWFnZVwiPtCS0L7Qt9GA0LDRgdGCOiAgJHt2aXNpdC5hZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0KbQtdC70Ywg0LLQuNC30LjRgtCwOiAgJHt2aXNpdC50aXRsZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtZGVzY3JpcHRpb25cIj7QmtGA0LDRgtC60L7QtSDQvtC/0LjRgdCw0L3QuNC1INCy0LjQt9C40YLQsDogICR7dmlzaXQuZGVzY3JpcHRpb259PC9wPmA7XG5cbiAgICAgICAgICAgIGNhc2UgJ9Ch0YLQvtC80LDRgtC+0LvQvtCzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxwIGNsYXNzPVwiY2FyZC1zcGVjaWFsaXN0c1wiPkPQv9C10YbQuNCw0LvQuNGB0YI6ICAke3Zpc2l0LnNwZWNpYWxpc3RzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1zdGF0dXNcIj7QodGC0LDRgtGD0YE6ICAke3Zpc2l0LnN0YXR1c308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtcHJpb3JpdHlcIj7Qn9GA0LjQvtGA0LjRgtC10YI6ICAke3Zpc2l0LnByaW9yaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLWRhdGVcIj7QlNCw0YLQsDogICR7dmlzaXQuZGF0ZX08L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtbGFzdFZpc2l0XCI+0JTQsNGC0LAg0L/QvtGB0LvQtdC00LXQvdC10LPQviDQv9C+0YHQtdGJ0LXQvdC40Y86ICAke3Zpc2l0Lmxhc3RWaXNpdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtdGl0bGVcIj7QptC10LvRjCDQstC40LfQuNGC0LA6ICAke3Zpc2l0LnRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1kZXNjcmlwdGlvblwiPtCa0YDQsNGC0LrQvtC1INC+0L/QuNGB0LDQvdC40LUg0LLQuNC30LjRgtCwOiAgJHt2aXNpdC5kZXNjcmlwdGlvbn08L3A+YDtcblxuICAgICAgICAgICAgY2FzZSAn0JrQsNGA0LTQuNC+0LvQvtCzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxwIGNsYXNzPVwiY2FyZC1zcGVjaWFsaXN0c1wiPkPQv9C10YbQuNCw0LvQuNGB0YI6ICAke3Zpc2l0LnNwZWNpYWxpc3RzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1zdGF0dXNcIj7QodGC0LDRgtGD0YE6ICAke3Zpc2l0LnN0YXR1c308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtcHJpb3JpdHlcIj7Qn9GA0LjQvtGA0LjRgtC10YI6ICAke3Zpc2l0LnByaW9yaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLWRhdGVcIj7QlNCw0YLQsDogICR7dmlzaXQuZGF0ZX08L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtYWdlXCI+0JLQvtC30YDQsNGB0YI6ICAke3Zpc2l0LmFnZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtdGl0bGVcIj7QptC10LvRjCDQstC40LfQuNGC0LA6ICAke3Zpc2l0LnRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1wcmVzc3VyZVwiPtCe0LHRi9GH0L3QvtC1INC00LDQstC70LXQvdC40LU6ICAke3Zpc2l0LnByZXNzdXJlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC13ZWlnaHRcIj7QmNC90LTQtdC60YEg0LzQsNGB0YHRiyDRgtC10LvQsDogICR7dmlzaXQud2VpZ2h0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC1pbGxuZXNzXCI+0J/QtdGA0LXQvdC10YHQtdC90L3Ri9C1INC30LDQsdC+0LvQtdCy0LDQvdC40Y8g0YHQtdGA0LTQtdGH0L3Qvi3RgdC+0YHRg9C00LjRgdGC0L7QuSDRgdC40YHRgtC10LzRizogICR7dmlzaXQuaWxsbmVzc308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtZGVzY3JpcHRpb25cIj7QmtGA0LDRgtC60L7QtSDQvtC/0LjRgdCw0L3QuNC1INCy0LjQt9C40YLQsDogICR7dmlzaXQuZGVzY3JpcHRpb259PC9wPmA7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hhbmdlQ2FyZHMoZXZlbnQsIGNhcmRJZCkge1xuICAgICAgICBjb25zdCBjdXJyZW50QnV0dG9uSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5pZDtcblxuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRCdXR0b25JZCkge1xuICAgICAgICAgICAgY2FzZSAnZHJvcGRvd24tZmluaXNoJzpcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaFN0YXR1cyhjYXJkSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkcm9wZG93bi1lZGl0JzpcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5FZGl0Q2FyZE1vZGFsKGNhcmRJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Ryb3Bkb3duLXJlbW92ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDYXJkKGNhcmRJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2FyZChpZCkge1xuICAgICAgICBjb25zdCBjdXJyZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHtpZH1cIl0gYCk7XG5cbiAgICAgICAgbW9kYWxJbnN0YW5jZS5vcGVuKCdjb25maXJtLW1vZGFsJyk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25maXJtTW9kYWxJbnN0YW5jZS5pbml0KCk7XG5cbiAgICAgICAgICAgIGNvbmZpcm1Nb2RhbEluc3RhbmNlLmFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzaG93IGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICBhcGlNZXRob2RzSW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UucmVtb3ZlQ2FyZChpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvYXJkTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNib2FyZC1tZXNzYWdlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcmRMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2FyZE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucmVtb3ZlQ2FyZCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybU1vZGFsSW5zdGFuY2UuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRlIGVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIDU1MCk7XG4gICAgfVxuXG4gICAgZmluaXNoU3RhdHVzKGNhcmRJZCkge1xuICAgICAgICBtb2RhbEluc3RhbmNlLm9wZW4oJ2NvbmZpcm0tbW9kYWwnKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbmZpcm1Nb2RhbEluc3RhbmNlLmluaXQoKTtcblxuICAgICAgICAgICAgY29uZmlybU1vZGFsSW5zdGFuY2UuYWN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNob3cgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIGFwaU1ldGhvZHNJbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAuZ2V0Q2FyZChjYXJkSWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpTWV0aG9kc0luc3RhbmNlLmVkaXRDYXJkKGNhcmRJZCwgey4uLmRhdGEsIHN0YXR1czogJ9CX0LDQutGA0YvRgid9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7Y2FyZElkfVwiXWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY3VycmVudENhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtc3RhdHVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAke3RoaXMuYmFja2dyb3VuZENhcmRTRmluaXNofWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2FyZC5zdHlsZS5ib3JkZXJDb2xvciA9IGAke3RoaXMuYmFja2dyb3VuZENhcmRTRmluaXNofWA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5pbm5lclRleHQgPSAn0KHRgtCw0YLRg9GBOiAg0JfQsNC60YDRi9GCJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UuZmluaXNoU3RhdHVzKGNhcmRJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbEluc3RhbmNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmlzaCBzdGF0dXMgZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgNTUwKTtcbiAgICB9XG5cbiAgICBvcGVuRWRpdENhcmRNb2RhbChjYXJkSWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgdGhpcy5lZGl0Q2FyZEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xuXG4gICAgICAgIC8vIHNob3cgbG9hZGVyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgYXBpTWV0aG9kc0luc3RhbmNlXG4gICAgICAgICAgICAuZ2V0Q2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2Uub3BlbignY3JlYXRlLWNhcmRzLW1vZGFsJyk7XG5cbiAgICAgICAgICAgICAgICBtb2RhbENhcmRPcGVyYXRpb25JbnN0YW5jZS5maWx0ZXJGb3JtKGRhdGEuZG9jdG9yKTtcblxuICAgICAgICAgICAgICAgIG1vZGFsQ2FyZE9wZXJhdGlvbkluc3RhbmNlLnNldEZpZWxkVmFsdWVzKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50Q2FyZElkKGRhdGEuaWQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR2V0IGNhcmQgYnkgaWQgZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVDYXJkKGRhdGFPYmopIHtcbiAgICAgICAgcmV0dXJuIGFwaU1ldGhvZHNJbnN0YW5jZVxuICAgICAgICAgICAgLmNyZWF0ZUNhcmQoZGF0YU9iailcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLm5ld0NhcmQoZGF0YSkpO1xuICAgIH1cblxuICAgIGVkaXRDYXJkKGNhcmRJZCwgZWRpdGVkVmlzaXQpIHtcbiAgICAgICAgcmV0dXJuIGFwaU1ldGhvZHNJbnN0YW5jZVxuICAgICAgICAgICAgLmVkaXRDYXJkKGNhcmRJZCwgZWRpdGVkVmlzaXQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke2NhcmRJZH1cIl1gKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRCbG9ja0ZvclBhZ2UgPSB0aGlzLmJ1aWxkQ2FyZChkYXRhKTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkLmZpcnN0Q2hpbGQucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICfQl9Cw0LrRgNGL0YInKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDYXJkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAke3RoaXMuYmFja2dyb3VuZENhcmRTRmluaXNofWA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENhcmQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYCR7dGhpcy5iYWNrZ3JvdW5kQ2FyZFNPcGVufWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudENhcmQuYXBwZW5kKGNhcmRCbG9ja0ZvclBhZ2UuY2FyZEJsb2NrKTtcblxuICAgICAgICAgICAgICAgIG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlLmVkaXRDYXJkKGNhcmRJZCwgZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBuZXdDYXJkKHZpc2l0KSB7XG4gICAgICAgIGxldCBjYXJkO1xuICAgICAgICBzd2l0Y2ggKHZpc2l0LmRvY3Rvcikge1xuICAgICAgICAgICAgY2FzZSAn0KLQtdGA0LDQv9C10LLRgic6XG4gICAgICAgICAgICAgICAgY2FyZCA9IG5ldyBUaGVyYXBpc3QodmlzaXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICfQodGC0L7QvNCw0YLQvtC70L7Qsyc6XG4gICAgICAgICAgICAgICAgY2FyZCA9IG5ldyBEZW50aXN0KHZpc2l0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAn0JrQsNGA0LTQuNC+0LvQvtCzJzpcbiAgICAgICAgICAgICAgICBjYXJkID0gbmV3IENhcmRpb2xvZ2lzdCh2aXNpdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2FyZCA9IG5ldyBUaGVyYXBpc3QodmlzaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FyZEZvclBhZ2UgPSB0aGlzLmJ1aWxkQ2FyZCh2aXNpdCk7XG5cbiAgICAgICAgY29uc3QgYm9hcmRNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JvYXJkLW1lc3NhZ2UnKTtcbiAgICAgICAgYm9hcmRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgdGhpcy52aXNpdEJvYXJkLmFwcGVuZChjYXJkRm9yUGFnZS5jYXJkKTtcblxuICAgICAgICBtZWRpY2FsRGF0YU9wZXJhdGlvbnNJbnN0YW5jZS5jcmVhdGVWaXNpdCh2aXNpdCk7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudENhcmRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudENhcmRJZDtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50Q2FyZElkKGNhcmRJZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRDYXJkSWQgPSBjYXJkSWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY2FyZE9wZXJhdGlvbkluc3RhbmNlID0gbmV3IENhcmRPcGVyYXRpb25zKCk7XG4iLCJpbXBvcnQgeyBhcGlNZXRob2RzSW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvYXBpLW1ldGhvZHNcIjtcbmltcG9ydCB7IG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlIH0gZnJvbSBcIi4vc2hhcmVkL21lZGljYWwtZGF0YS1vcGVyYXRpb25zXCI7XG5pbXBvcnQgeyBjYXJkT3BlcmF0aW9uSW5zdGFuY2UgfSBmcm9tIFwiLi9jYXJkLW9wZXJhdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIENhcmRzTGlzdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmlzaXRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aXNpdC1ib2FyZCcpO1xuICAgICAgICB0aGlzLnByZWxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVsb2FkZXInKTtcblxuICAgICAgICBjb25zdCB0b2tlbiA9IG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlLmhhc1Rva2VuKCk7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLmdldENhcmRMaXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDYXJkTGlzdCgpIHtcbiAgICAgICAgLy8gc2hvdyBsb2FkZXJcbiAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcblxuICAgICAgICBhcGlNZXRob2RzSW5zdGFuY2VcbiAgICAgICAgICAgIC5nZXRDYXJkcygpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVDYXJkc0xpc3QoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBtZWRpY2FsRGF0YU9wZXJhdGlvbnNJbnN0YW5jZS5zZXRBbGxDYXJkcyhkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vaGlkZSBsb2FkZXJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZHNBcnJheSA9IG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlLmdldEFsbENhcmRzKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlQ2FyZHNMaXN0KGNhcmRzQXJyYXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDYXJkc0xpc3QoZGF0YSkge1xuICAgICAgICB0aGlzLnZpc2l0Qm9hcmQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0Qm9hcmQuaW5uZXJIVE1MID0gYDxwIGNsYXNzPVwidmlzaXQtYm9hcmRfX21lc3NhZ2VcIiBpZD1cImJvYXJkLW1lc3NhZ2VcIj7QndC1INGB0L7Qt9C00LDQvdC+INC90Lgg0L7QtNC90L7Qs9C+INCy0LjQt9C40YLQsDwvcD5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aXNpdEJvYXJkLmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInZpc2l0LWJvYXJkX19tZXNzYWdlIGNsb3NlXCIgaWQ9XCJib2FyZC1tZXNzYWdlXCI+0J3QtSDRgdC+0LfQtNCw0L3QviDQvdC4INC+0LTQvdC+0LPQviDQstC40LfQuNGC0LA8L3A+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZm9yRWFjaCgodmlzaXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmRzRm9yUGFnZSA9IGNhcmRPcGVyYXRpb25JbnN0YW5jZS5idWlsZENhcmQodmlzaXQpO1xuXG4gICAgICAgICAgICB0aGlzLnZpc2l0Qm9hcmQuYXBwZW5kKGNhcmRzRm9yUGFnZS5jYXJkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY2FyZHNMaXN0SW5zdGFuY2UgPSBuZXcgQ2FyZHNMaXN0KCk7XG4iLCJpbXBvcnQgeyBtb2RhbEluc3RhbmNlIH0gZnJvbSBcIi4vc2hhcmVkL21vZGFsXCI7XG5cbmltcG9ydCB7IGNhcmRPcGVyYXRpb25JbnN0YW5jZSB9IGZyb20gXCIuL2NhcmQtb3BlcmF0aW9uc1wiO1xuXG5pbXBvcnQgeyBtb2RhbENhcmRPcGVyYXRpb25JbnN0YW5jZSB9IGZyb20gXCIuL3NoYXJlZC9tb2RhbC1jYXJkLW9wZXJhdGlvblwiO1xuaW1wb3J0IHsgbW9kYWxDYXJkVmFsaWRhdGlvbkluc3RhbmNlIH0gZnJvbSBcIi4vc2hhcmVkL21vZGFsLWNhcmQtdmFsaWRhdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlRWRpdENhcmRNb2RhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0Rm9ybVNwZWNpYWx0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtZm9ybS1zcGVjaWFsdHknKTtcbiAgICAgICAgdGhpcy5jcmVhdGVNb2RhbENsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsQ2xvc2UnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1jYXJkLWJ0bicpO1xuICAgICAgICB0aGlzLmVkaXRDYXJkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtY2FyZC1idG4nKTtcbiAgICAgICAgdGhpcy5wcmVsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlbG9hZGVyJyk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RGb3JtU3BlY2lhbHR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIG1vZGFsQ2FyZE9wZXJhdGlvbkluc3RhbmNlLmZpbHRlckZvcm0odGhpcy5zZWxlY3RGb3JtU3BlY2lhbHR5LnZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jcmVhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZWRpdENhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmVkaXQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVNb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2FyZEJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcblxuICAgICAgICBtb2RhbENhcmRWYWxpZGF0aW9uSW5zdGFuY2UucmVtb3ZlVmFsaWRhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBtb2RhbENhcmRWYWxpZGF0aW9uSW5zdGFuY2UuY2hlY2tGaWVsZHNQcmVzZW5jZSgpO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNhcmRCdG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhT2JqID0gbW9kYWxDYXJkT3BlcmF0aW9uSW5zdGFuY2UuY3JlYXRlRGF0YU9iaigpO1xuXG4gICAgICAgICAgICAvLyBzaG93IGxvYWRlclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcblxuICAgICAgICAgICAgY2FyZE9wZXJhdGlvbkluc3RhbmNlXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUNhcmQoZGF0YU9iailcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSBsb2FkZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlIGNhcmQgZXJyb3InLCBlcnJvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLnN0eWxlLm9wYWNpdHkgPSAnMC43JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVkaXQoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDYXJkSWQgPSBjYXJkT3BlcmF0aW9uSW5zdGFuY2UuZ2V0Q3VycmVudENhcmRJZCgpO1xuICAgICAgICBjb25zdCBlZGl0ZWRWaXNpdCA9IG1vZGFsQ2FyZE9wZXJhdGlvbkluc3RhbmNlLmNyZWF0ZURhdGFPYmooKTtcblxuICAgICAgICB0aGlzLmVkaXRDYXJkQnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcblxuICAgICAgICAvLyBzaG93IGxvYWRlclxuICAgICAgICB0aGlzLnByZWxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xuXG4gICAgICAgIGNhcmRPcGVyYXRpb25JbnN0YW5jZVxuICAgICAgICAgICAgLmVkaXRDYXJkKGN1cnJlbnRDYXJkSWQsIGVkaXRlZFZpc2l0KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIG1vZGFsQ2FyZFZhbGlkYXRpb25JbnN0YW5jZS5yZW1vdmVGaWVsZHNWYWx1ZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0Q2FyZEJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaGlkZSBsb2FkZXJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VkaXQgY2FyZCBlcnJvcicsIGVycm9yKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdENhcmRCdG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgbW9kYWxDYXJkVmFsaWRhdGlvbkluc3RhbmNlLnJlbW92ZUZpZWxkc1ZhbHVlKCk7XG5cbiAgICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBEcmFnQW5kRHJvcENhcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lckNhcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Zpc2l0LWJvYXJkJyk7XG4gICAgfVxuXG4gICAgc29ydGFibGUoKSB7XG4gICAgICAgIG5ldyBTb3J0YWJsZSh0aGlzLmNvbnRhaW5lckNhcmRzLCB7XG4gICAgICAgICAgICBhbmltYXRpb246IDE1MFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBkcmFnQW5kRHJvcENhcmRJbnN0YW5jZSA9IG5ldyBEcmFnQW5kRHJvcENhcmQoKTtcbiIsImltcG9ydCB7IGNhcmRzTGlzdEluc3RhbmNlIH0gZnJvbSBcIi4vY2FyZHMtbGlzdFwiO1xuXG5pbXBvcnQgeyBhcGlNZXRob2RzSW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvYXBpLW1ldGhvZHNcIjtcblxuZXhwb3J0IGNsYXNzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoQnRuRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1idG4nKTtcbiAgICAgICAgdGhpcy5zZWFyY2hCdG5GaWx0ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZpbHRlckNhcmRzLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoQnRuVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWJ0bi10aXRsZScpO1xuICAgICAgICB0aGlzLnNlYXJjaEJ0blRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5maWx0ZXJDYXJkcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wcmVsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlbG9hZGVyJyk7XG4gICAgfVxuXG4gICAgZmlsdGVyQ2FyZHMoKSB7XG4gICAgICAgIC8vIHNob3cgbG9hZGVyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgYXBpTWV0aG9kc0luc3RhbmNlXG4gICAgICAgICAgICAuZ2V0Q2FyZHMoKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclZpc2l0KGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsdGVyIGVycm9yOiAnLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJWaXNpdCh2aXNpdHMpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci10aXRsZScpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0ZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXItc3RhdHVzJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5RmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlci1wcmlvcml0eScpLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRGF0YSA9IHZpc2l0cy5maWx0ZXIoKGl0ZW0pID0+XG4gICAgICAgICAgICAoaXRlbS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRhcmdldEZpbHRlcilcbiAgICAgICAgICAgICAgICB8fCBpdGVtLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGFyZ2V0RmlsdGVyKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgJiYgKGl0ZW0uc3RhdHVzID09PSBzdGF0dXNGaWx0ZXIgfHwgc3RhdHVzRmlsdGVyID09PSAn0JLRgdC1JylcbiAgICAgICAgICAgICYmIChpdGVtLnByaW9yaXR5ID09PSBwcmlvcml0eUZpbHRlciB8fCBwcmlvcml0eUZpbHRlciA9PT0gJ9CS0YHQtScpKTtcblxuICAgICAgICBjYXJkc0xpc3RJbnN0YW5jZS5nZW5lcmF0ZUNhcmRzTGlzdChmaWx0ZXJlZERhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBBUElVUkxTIH0gZnJvbSBcIi4vYXBpLXVybHNcIjtcblxuaW1wb3J0IHsgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UgfSBmcm9tIFwiLi9tZWRpY2FsLWRhdGEtb3BlcmF0aW9uc1wiO1xuXG5jbGFzcyBBUElNZXRob2RzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG5cbiAgICBnZXRIZWFkZXJzKCkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlLmdldFRva2VuKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlQ2FyZChvYmopIHtcbiAgICAgICAgY29uc3QgYXV0aE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBBUElVUkxTLmNhcmRzLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkob2JqKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGF4aW9zKGF1dGhPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAgICB9XG5cbiAgICBnZXRDYXJkKGNhcmRJZCkge1xuICAgICAgICBjb25zdCBhdXRoT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIHVybDogYCR7QVBJVVJMUy5jYXJkc30vJHtjYXJkSWR9YCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGF4aW9zKGF1dGhPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAgICB9O1xuXG4gICAgZ2V0Q2FyZHMoKSB7XG4gICAgICAgIGNvbnN0IGF1dGhPcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiBBUElVUkxTLmNhcmRzLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKClcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYXhpb3MoYXV0aE9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmRhdGEpXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcikpO1xuICAgIH1cblxuICAgIGVkaXRDYXJkKGNhcmRJZCwgb2JqKSB7XG4gICAgICAgIGNvbnN0IGF1dGhPcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgdXJsOiBgJHtBUElVUkxTLmNhcmRzfS8ke2NhcmRJZH1gLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkob2JqKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGF4aW9zKGF1dGhPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAgICB9XG5cbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgICAgICBjb25zdCBhdXRoT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIHVybDogYCR7QVBJVVJMUy5jYXJkc30vJHtjYXJkSWR9YCxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHt9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGF4aW9zKGF1dGhPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBpTWV0aG9kc0luc3RhbmNlID0gbmV3IEFQSU1ldGhvZHMoKTsiLCJleHBvcnQgY29uc3QgQVBJVVJMUyA9IHtcbiAgIGxvZ2luOiAnaHR0cDovL2NhcmRzLmRhbml0LmNvbS51YS9sb2dpbicsXG4gICBjYXJkczogJ2h0dHA6Ly9jYXJkcy5kYW5pdC5jb20udWEvY2FyZHMnXG59O1xuIiwiaW1wb3J0IHsgbW9kYWxJbnN0YW5jZSB9IGZyb20gXCIuL21vZGFsXCI7XG5cbmNsYXNzIENvbmZpcm1Nb2RhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5va0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vay1idG4nKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpO1xuICAgICAgICB0aGlzLmNhbmNlbE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbmZpcm0tbW9kYWwgLmNsb3NlLWJ0bicpO1xuXG4gICAgICAgIHRoaXMub2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNvbmZpcm0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYW5jZWwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY2FuY2VsTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNhbmNlbC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLmFjdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5va0J0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY29uZmlybS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNhbmNlbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jYW5jZWxNb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2FuY2VsLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGNvbmZpcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG5cbiAgICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Nb2RhbEluc3RhbmNlID0gbmV3IENvbmZpcm1Nb2RhbCgpOyIsImltcG9ydCB7IG1vZGFsSW5zdGFuY2UgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG5pbXBvcnQgeyBtZWRpY2FsRGF0YU9wZXJhdGlvbnNJbnN0YW5jZSB9IGZyb20gXCIuL21lZGljYWwtZGF0YS1vcGVyYXRpb25zXCI7XG5cbmNsYXNzIEhlYWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aXZhdGlvbi1idG4nKTtcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxheScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtdmlzaXQtYnRuJyk7XG4gICAgICAgIHRoaXMuZWRpdENhcmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1jYXJkLWJ0bicpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhcmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLWNhcmQtYnRuJyk7XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBtZWRpY2FsRGF0YU9wZXJhdGlvbnNJbnN0YW5jZS5oYXNUb2tlbigpO1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnRuLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dpbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2luQnRuLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWxJbnN0YW5jZS5vcGVuKCdhY3RpdmF0aW9uLW1vZGFsJykpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lZGl0Q2FyZEJ0bi5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2Uub3BlbignY3JlYXRlLWNhcmRzLW1vZGFsJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vcmVtb3ZlIHdpbmRvdyB3aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIHdpbmRvdyBvciBjbG9zZSBidXR0b25cbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbEluc3RhbmNlLmNsb3NlKCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGhlYWRlckluc3RhbmNlID0gbmV3IEhlYWRlcigpO1xuIiwiaW1wb3J0IHsgbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZSB9IGZyb20gXCIuL21lZGljYWwtc3RvcmFnZVwiO1xuXG5jbGFzcyBNZWRpY2FsRGF0YU9wZXJhdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmtleVN0b3JhZ2UgPSAnY2FyZHMnO1xuICAgICAgICB0aGlzLnRva2VuID0gJ3Rva2VuJztcbiAgICB9XG5cbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIG1lZGljYWxTdG9yYWdlSW5zdGFuY2UuZ2V0KHRoaXMudG9rZW4pO1xuICAgIH1cblxuICAgIGhhc1Rva2VuKCkge1xuICAgICAgICByZXR1cm4gbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZS5oYXModGhpcy50b2tlbik7XG4gICAgfVxuXG4gICAgc2V0VG9rZW4odmFsdWVUb2tlbikge1xuICAgICAgICBtZWRpY2FsU3RvcmFnZUluc3RhbmNlLnNldCh0aGlzLnRva2VuLCB2YWx1ZVRva2VuKTtcbiAgICB9XG5cbiAgICBnZXRBbGxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIG1lZGljYWxTdG9yYWdlSW5zdGFuY2UuZ2V0KHRoaXMua2V5U3RvcmFnZSk7XG4gICAgfVxuXG4gICAgc2V0QWxsQ2FyZHMoY2FyZHMpIHtcbiAgICAgICAgbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZS5zZXQodGhpcy5rZXlTdG9yYWdlLCBjYXJkcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzaXQodmlzaXQpIHtcbiAgICAgICAgY29uc3QgY2FyZHMgPSBtZWRpY2FsU3RvcmFnZUluc3RhbmNlLmdldCh0aGlzLmtleVN0b3JhZ2UpIHx8IFtdO1xuXG4gICAgICAgIG1lZGljYWxTdG9yYWdlSW5zdGFuY2Uuc2V0KHRoaXMua2V5U3RvcmFnZSwgWy4uLmNhcmRzLCB2aXNpdF0pO1xuICAgIH1cblxuICAgIGZpbmlzaFN0YXR1cyhpZCkge1xuICAgICAgICBjb25zdCBzdG9yZUNhcmRzID0gbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZS5nZXQodGhpcy5rZXlTdG9yYWdlKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50T2JqID0gc3RvcmVDYXJkcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaWQpO1xuICAgICAgICBjdXJyZW50T2JqLnN0YXR1cyA9ICfQl9Cw0LrRgNGL0YInO1xuXG4gICAgICAgIG1lZGljYWxTdG9yYWdlSW5zdGFuY2Uuc2V0KHRoaXMua2V5U3RvcmFnZSwgc3RvcmVDYXJkcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2FyZChpZCkge1xuICAgICAgICBjb25zdCBzdG9yZUNhcmRzID0gbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZS5nZXQodGhpcy5rZXlTdG9yYWdlKTtcblxuICAgICAgICBsZXQgaW5kZXggPSBzdG9yZUNhcmRzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBzdG9yZUNhcmRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZWRpY2FsU3RvcmFnZUluc3RhbmNlLnNldCh0aGlzLmtleVN0b3JhZ2UsIHN0b3JlQ2FyZHMpO1xuICAgIH1cblxuICAgIGVkaXRDYXJkKGlkLCB2aXNpdCkge1xuICAgICAgICBjb25zdCBzdG9yZUNhcmRzID0gbWVkaWNhbFN0b3JhZ2VJbnN0YW5jZS5nZXQodGhpcy5rZXlTdG9yYWdlKTtcblxuICAgICAgICBsZXQgaW5kZXggPSBzdG9yZUNhcmRzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGlkKTtcblxuICAgICAgICBzdG9yZUNhcmRzLnNwbGljZShpbmRleCwgMSwgdmlzaXQpO1xuXG4gICAgICAgIG1lZGljYWxTdG9yYWdlSW5zdGFuY2Uuc2V0KHRoaXMua2V5U3RvcmFnZSwgc3RvcmVDYXJkcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UgPSBuZXcgTWVkaWNhbERhdGFPcGVyYXRpb25zKCk7XG4iLCJleHBvcnQgY2xhc3MgTWVkaWNhbFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7a2V5fWApO1xuICAgIH07XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9O1xuXG59XG5cbmV4cG9ydCBjb25zdCBtZWRpY2FsU3RvcmFnZUluc3RhbmNlID0gbmV3IE1lZGljYWxTdG9yYWdlKCk7XG4iLCJleHBvcnQgY2xhc3MgTW9kYWxDYXJkT3BlcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbnB1dEJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXItaW5wdXQnKTtcbiAgICAgICAgdGhpcy5oaWRkZW5JdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19oaWRkZW4taXRlbScpO1xuICAgICAgICB0aGlzLnNlbGVjdEZvcm1TcGVjaWFsdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWZvcm0tc3BlY2lhbHR5Jyk7XG4gICAgICAgIHRoaXMuc2VsZWN0QmxvY2tTcGVjaWFsaXN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtYmxvY2stc3BlY2lhbGlzdHMnKTtcbiAgICAgICAgdGhpcy5zZWxlY3REb2N0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWZvcm0tc3BlY2lhbHR5Jyk7XG5cbiAgICAgICAgdGhpcy5kb2N0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWZvcm0tc3BlY2lhbHR5Jyk7XG4gICAgICAgIHRoaXMuc3BlY2lhbGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXNwZWNpYWxpc3RzJyk7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXByaW9yaXR5Jyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1zdGF0dXMnKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1hcmVhJyk7XG5cbiAgICAgICAgdGhpcy5mb3JtSW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtZm9ybV9faW5wdXQnKTtcbiAgICB9XG5cbiAgICAvLyBldmVudCBoYW5kbGVyIG9uIGNsaWNrIGJ1dHRvbnMgY3JlYXRlIGNhcmQgKHRha2UgdGhlIHZhbHVlcyBvZiB0aGUgaW5wdXRzIGFuZCB3cml0ZSB0byB0aGUgb2JqZWN0IGRhdGFPYmopXG4gICAgY3JlYXRlRGF0YU9iaigpIHtcbiAgICAgICAgY29uc3Qgc3BlY2lhbGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXNwZWNpYWxpc3RzJyk7XG5cbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOyAvL0phbnVhcnkgaXMgMCFcbiAgICAgICAgY29uc3QgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgY29uc3QgZGF0ZSA9IGAke2RkfS0ke21tfS0ke3l5eXl9YDtcblxuICAgICAgICBjb25zdCBkYXRhT2JqID0ge307XG5cbiAgICAgICAgZGF0YU9iai5kb2N0b3IgPSB0aGlzLmRvY3Rvci52YWx1ZTtcbiAgICAgICAgZGF0YU9iai5zdGF0dXMgPSB0aGlzLnN0YXR1cy52YWx1ZTtcbiAgICAgICAgZGF0YU9iai5wcmlvcml0eSA9IHRoaXMucHJpb3JpdHkudmFsdWU7XG5cbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuZm9ybUlucHV0cywgZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBkYXRhT2JqW2VsZW1lbnQuZGF0YXNldC5uYW1lXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRhdGFPYmouc3BlY2lhbGlzdHMgPSBzcGVjaWFsaXN0cy52YWx1ZTtcbiAgICAgICAgZGF0YU9iai5kZXNjcmlwdGlvbiA9IHRoaXMuZGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgIGRhdGFPYmouZGF0ZSA9IGRhdGU7XG5cbiAgICAgICAgcmV0dXJuIGRhdGFPYmo7XG4gICAgfVxuXG4gICAgc2V0RmllbGRWYWx1ZXMoY2FyZCkge1xuICAgICAgICBjb25zdCBmb3JtSW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtZm9ybV9faW5wdXQnKSxcbiAgICAgICAgICAgIGRvY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtZm9ybS1zcGVjaWFsdHknKSxcbiAgICAgICAgICAgIHN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3Qtc3RhdHVzJyksXG4gICAgICAgICAgICBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtcHJpb3JpdHknKSxcbiAgICAgICAgICAgIHNwZWNpYWxpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1zcGVjaWFsaXN0cycpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtYXJlYScpO1xuXG4gICAgICAgIGRvY3Rvci52YWx1ZSA9IGNhcmQuZG9jdG9yO1xuICAgICAgICBzdGF0dXMudmFsdWUgPSBjYXJkLnN0YXR1cztcbiAgICAgICAgcHJpb3JpdHkudmFsdWUgPSBjYXJkLnByaW9yaXR5O1xuICAgICAgICBzcGVjaWFsaXN0cy52YWx1ZSA9IGNhcmQuc3BlY2lhbGlzdHM7XG4gICAgICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gY2FyZC5kZXNjcmlwdGlvbjtcblxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZm9ybUlucHV0cywgZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gY2FyZFtlbGVtZW50LmRhdGFzZXQubmFtZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBldmVudCBoYW5kbGVyIGluIHNlbGVjdCB0YWcgd2hlbiBjaG9vc2luZyBhIGRvY3RvclxuICAgIGZpbHRlckZvcm0oZG9jdG9yKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RG9jdG9yLnZhbHVlID0gZG9jdG9yO1xuXG4gICAgICAgIHRoaXMuaW5wdXRCbG9jay5pbm5lckhUTUwgPSBgYDtcblxuICAgICAgICB0aGlzLmhpZGRlbkl0ZW0uZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RCbG9ja1NwZWNpYWxpc3RzLmlubmVySFRNTCA9IHRoaXMuY2hvb3NlU3BlY2lhbGlzdChkb2N0b3IpO1xuXG4gICAgICAgIGNvbnN0IGlucHV0c0RvY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpbnB1dHNEb2N0b3IuY2xhc3NMaXN0LmFkZCgnbW9kYWwtZm9ybV9faW5wdXQtYmxvY2snKTtcbiAgICAgICAgaW5wdXRzRG9jdG9yLmlkID0gXCJpbnB1dC1ibG9ja1wiO1xuICAgICAgICBpbnB1dHNEb2N0b3IuaW5uZXJIVE1MID0gdGhpcy5jaG9vc2VJbnB1dHNEb2N0b3IodGhpcy5zZWxlY3RGb3JtU3BlY2lhbHR5LnZhbHVlKTtcblxuICAgICAgICB0aGlzLmlucHV0QmxvY2suYXBwZW5kKGlucHV0c0RvY3Rvcik7XG4gICAgfVxuXG4gICAgY2hvb3NlU3BlY2lhbGlzdChkb2N0b3IpIHtcbiAgICAgICAgc3dpdGNoIChkb2N0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgJ9Ci0LXRgNCw0L/QtdCy0YInOlxuICAgICAgICAgICAgICAgIHJldHVybiBgPHAgY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3QtZGVzY3JpcHRpb25cIj5D0L/QtdGG0LjQsNC70LjRgdGCOiA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3RcIiBpZD1cInNlbGVjdC1zcGVjaWFsaXN0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzcz1cIm1vZGFsLWZvcm1fX3NlbGVjdC1pdGVtXCIgdmFsdWU9XCLQmtC+0YjQtdCy0L7QuSDQmC7QmC5cIj7QmtC+0YjQtdCy0L7QuSDQmC7QmC48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3QtaXRlbVwiIHZhbHVlPVwi0KDQsNCx0LjQvdC+0LLQuNGHINCQLtCXLlwiPtCg0LDQsdC40L3QvtCy0LjRhyDQkC7Qly48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3QtaXRlbVwiIHZhbHVlPVwi0JzQsNGA0YfQtdC90LrQviDQkC7QmC5cIj7QnNCw0YDRh9C10L3QutC+INCQLtCYLjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5gO1xuXG4gICAgICAgICAgICBjYXNlICfQodGC0L7QvNCw0YLQvtC70L7Qsyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8cCBjbGFzcz1cIm1vZGFsLWZvcm1fX3NlbGVjdC1kZXNjcmlwdGlvblwiPkPQv9C10YbQuNCw0LvQuNGB0YI6IDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cIm1vZGFsLWZvcm1fX3NlbGVjdFwiIGlkPVwic2VsZWN0LXNwZWNpYWxpc3RzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzPVwibW9kYWwtZm9ybV9fc2VsZWN0LWl0ZW1cIiB2YWx1ZT1cItCX0YPQsdGH0LXQvdC60L4g0KAu0JQuXCI+0JfRg9Cx0YfQtdC90LrQviDQoC7QlC48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3QtaXRlbVwiIHZhbHVlPVwi0K/QutC+0LLQtdC90LrQviDQoS7Qly5cIj7Qr9C60L7QstC10L3QutC+INChLtCXLjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzcz1cIm1vZGFsLWZvcm1fX3NlbGVjdC1pdGVtXCIgdmFsdWU9XCLQn9C10YLRgNC+0LIg0JIu0JguXCI+0J/QtdGC0YDQvtCyINCSLtCYLjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5gO1xuXG4gICAgICAgICAgICBjYXNlICfQmtCw0YDQtNC40L7Qu9C+0LMnOlxuICAgICAgICAgICAgICAgIHJldHVybiBgPHAgY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3QtZGVzY3JpcHRpb25cIj5D0L/QtdGG0LjQsNC70LjRgdGCOiA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJtb2RhbC1mb3JtX19zZWxlY3RcIiBpZD1cInNlbGVjdC1zcGVjaWFsaXN0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzcz1cIm1vZGFsLWZvcm1fX3NlbGVjdC1pdGVtXCIgdmFsdWU9XCLQkNC70LXQutGB0LXQtdCyINChLtCYLlwiPtCQ0LvQtdC60YHQtdC10LIg0KEu0JguPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzPVwibW9kYWwtZm9ybV9fc2VsZWN0LWl0ZW1cIiB2YWx1ZT1cItCQ0LHRgNCw0LzQvtCy0LjRhyDQkC7QnS5cIj7QkNCx0YDQsNC80L7QstC40Ycg0JAu0J0uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzPVwibW9kYWwtZm9ybV9fc2VsZWN0LWl0ZW1cIiB2YWx1ZT1cItCe0L3QuNGJ0LXQvdC60L4g0JIu0JguXCI+0J7QvdC40YnQtdC90LrQviDQki7QmC48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+YDtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEJsb2NrU3BlY2lhbGlzdHMuaW5uZXJIVE1MID0gYGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaG9vc2VJbnB1dHNEb2N0b3IoZG9jdG9yKSB7XG4gICAgICAgIHN3aXRjaCAoZG9jdG9yKSB7XG4gICAgICAgICAgICBjYXNlICfQotC10YDQsNC/0LXQstGCJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0KTQmNCeKlwiIGNsYXNzPVwibW9kYWwtZm9ybV9faW5wdXRcIiBpZD1cImlucHV0LW5hbWVcIiBkYXRhLW5hbWU9XCJuYW1lXCIgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCm0LXQu9GMINCy0LjQt9C40YLQsCpcIiBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0IGlucHV0LXRpdGxlXCIgaWQ9XCJpbnB1dC10aXRsZVwiIGRhdGEtbmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQvtC30YDQsNGB0YIqXCIgY2xhc3M9XCJtb2RhbC1mb3JtX19pbnB1dCBpbnB1dC1hZ2VcIiBpZD1cImlucHV0LWFnZVwiIGRhdGEtbmFtZT1cImFnZVwiPmA7XG5cbiAgICAgICAgICAgIGNhc2UgJ9Ch0YLQvtC80LDRgtC+0LvQvtCzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0KTQmNCeKlwiIGNsYXNzPVwibW9kYWwtZm9ybV9faW5wdXRcIiBpZD1cImlucHV0LW5hbWVcIiBkYXRhLW5hbWU9XCJuYW1lXCIgPiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCm0LXQu9GMINCy0LjQt9C40YLQsCpcIiBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0XCIgaWQ9XCJpbnB1dC10aXRsZVwiIGRhdGEtbmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JTQsNGC0LAg0L/QvtGB0LvQtdC00L3QtdCz0L4g0L/QvtGB0LXRidC10L3QuNGPICjQtNC0LtC80Lwu0LPQs9Cz0LMpKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0IG1vZGFsLWZvcm1fX2lucHV0LWRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpbnB1dC1sYXN0VmlzaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uYW1lPVwibGFzdFZpc2l0XCI+YDtcblxuICAgICAgICAgICAgY2FzZSAn0JrQsNGA0LTQuNC+0LvQvtCzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0KTQmNCeKlwiIGNsYXNzPVwibW9kYWwtZm9ybV9faW5wdXRcIiBpZD1cImlucHV0LW5hbWVcIiBkYXRhLW5hbWU9XCJuYW1lXCIgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCm0LXQu9GMINCy0LjQt9C40YLQsCpcIiBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0XCIgaWQ9XCJpbnB1dC10aXRsZVwiIGRhdGEtbmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQvtC30YDQsNGB0YIqXCIgY2xhc3M9XCJtb2RhbC1mb3JtX19pbnB1dFwiIGlkPVwiaW5wdXQtYWdlXCIgZGF0YS1uYW1lPVwiYWdlXCI+ICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLQntCx0YvRh9C90L7QtSDQtNCw0LLQu9C10L3QuNC1KlwiIGNsYXNzPVwibW9kYWwtZm9ybV9faW5wdXRcIiBpZD1cImlucHV0LXByZXNzdXJlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmFtZT1cInByZXNzdXJlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JjQvdC00LXQutGBINC80LDRgdGB0Ysg0YLQtdC70LAqXCIgY2xhc3M9XCJtb2RhbC1mb3JtX19pbnB1dFwiIGlkPVwiaW5wdXQtd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmFtZT1cIndlaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCf0LXRgNC10L3QtdGB0LXQvdC90YvQtSDQt9Cw0LHQvtC70LXQstCw0L3QuNGPINGB0LXRgNC00LXRh9C90L4t0YHQvtGB0YPQtNC40YHRgtC+0Lkg0YHQuNGB0YLQtdC80YsqXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibW9kYWwtZm9ybV9faW5wdXRcIiBpZD1pbnB1dC1pbGxuZXNzXCIgZGF0YS1uYW1lPVwiaWxsbmVzc1wiPmA7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCk0JjQnipcIiBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0IGlucHV0LW5hbWVcIiBkYXRhLW5hbWU9XCJuYW1lXCIgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCm0LXQu9GMINCy0LjQt9C40YLQsCpcIiBjbGFzcz1cIm1vZGFsLWZvcm1fX2lucHV0XCIgaWQ9XCJpbnB1dC10aXRsZVwiIGRhdGEtbmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQvtC30YDQsNGB0YIqXCIgY2xhc3M9XCJtb2RhbC1mb3JtX19pbnB1dFwiIGlkPVwiaW5wdXQtYWdlXCIgZGF0YS1uYW1lPVwiYWdlXCI+YDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1vZGFsQ2FyZE9wZXJhdGlvbkluc3RhbmNlID0gbmV3IE1vZGFsQ2FyZE9wZXJhdGlvbigpOyIsImV4cG9ydCBjbGFzcyBNb2RhbENhcmRWYWxpZGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kb2N0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWZvcm0tc3BlY2lhbHR5Jyk7XG4gICAgICAgIHRoaXMuc3BlY2lhbGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXNwZWNpYWxpc3RzJyk7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LXByaW9yaXR5Jyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1zdGF0dXMnKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1hcmVhJyk7XG5cbiAgICAgICAgdGhpcy5mb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0nKTtcbiAgICAgICAgdGhpcy5mb3JtSW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtZm9ybV9faW5wdXQnKTtcbiAgICAgICAgdGhpcy5oaWRkZW5JdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19oaWRkZW4taXRlbScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhcmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLWNhcmQtYnRuJyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRmllbGRzVmFsdWUoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlVmFsaWRhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuZG9jdG9yLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnByaW9yaXR5LnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnN0YXR1cy5zZWxlY3RlZEluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLmhpZGRlbkl0ZW0uZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnY2xvc2UnKVxuICAgICAgICB9KTtcblxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwodGhpcy5mb3JtSW5wdXRzLCBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbi52YWx1ZSA9ICcnO1xuICAgIH1cblxuICAgIGdlbmVyYXRlRXJyb3IodGV4dCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlcnJvci5jbGFzc05hbWUgPSAnZXJyb3InO1xuICAgICAgICBlcnJvci5zdHlsZS5jb2xvciA9ICdyZWQnO1xuICAgICAgICBlcnJvci5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG5cbiAgICByZW1vdmVWYWxpZGF0aW9uKCkge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmVycm9yJyk7XG4gICAgICAgIGVycm9ycy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5yZW1vdmUoKSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDYXJkQnRuLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgfVxuXG4gICAgY2hlY2tGaWVsZHNQcmVzZW5jZSgpIHtcbiAgICAgICAgbGV0IGVtcHR5SW5wdXQgPSAwO1xuXG4gICAgICAgIGNvbnN0IGZvcm1JbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC1mb3JtX19pbnB1dCcpO1xuXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChmb3JtSW5wdXRzLCBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMuZ2VuZXJhdGVFcnJvcign0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtScpO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudC5iZWZvcmUoZXJyb3IpO1xuICAgICAgICAgICAgICAgIGVtcHR5SW5wdXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGVtcHR5SW5wdXQgPT09IDA7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbW9kYWxDYXJkVmFsaWRhdGlvbkluc3RhbmNlID0gbmV3IE1vZGFsQ2FyZFZhbGlkYXRpb24oKTtcbiIsImltcG9ydCB7IG1vZGFsQ2FyZFZhbGlkYXRpb25JbnN0YW5jZSB9IGZyb20gXCIuL21vZGFsLWNhcmQtdmFsaWRhdGlvblwiO1xuXG5jbGFzcyBNb2RhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE1vZGFsSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBudWxsO1xuICAgIH1cblxuICAgIG9wZW4obW9kYWxJZCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbElkKS5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbElkKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TW9kYWxJZCA9IG1vZGFsSWQ7XG5cbiAgICAgICAgdGhpcy5vcGVuT3ZlcmxheSgpO1xuXG4gICAgICAgIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIG1vZGFsQ2FyZFZhbGlkYXRpb25JbnN0YW5jZS5yZW1vdmVGaWVsZHNWYWx1ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TW9kYWxJZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jdXJyZW50TW9kYWxJZCkuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jdXJyZW50TW9kYWxJZCkuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgdGhpcy5jbG9zZU92ZXJsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBFcnJvcignWW91IGRvIG5vdCBoYXZlIGFueSBtb2RhbCBvcGVuZWQhJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3Blbk92ZXJsYXkoKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1vdmVybGF5JykuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxheScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgdGhpcy5vdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLW92ZXJsYXknKTtcbiAgICB9XG5cbiAgICBjbG9zZU92ZXJsYXkoKSB7XG4gICAgICAgIHRoaXMub3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuICAgICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1vZGFsSW5zdGFuY2UgPSBuZXcgTW9kYWwoKTtcbiIsImltcG9ydCB7IEFQSVVSTFMgfSBmcm9tIFwiLi9zaGFyZWQvYXBpLXVybHNcIjtcblxuaW1wb3J0IHsgbW9kYWxJbnN0YW5jZSB9IGZyb20gXCIuL3NoYXJlZC9tb2RhbFwiO1xuaW1wb3J0IHsgaGVhZGVySW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvaGVhZGVyXCI7XG5pbXBvcnQgeyBjYXJkc0xpc3RJbnN0YW5jZSB9IGZyb20gXCIuL2NhcmRzLWxpc3RcIjtcblxuaW1wb3J0IHsgbWVkaWNhbERhdGFPcGVyYXRpb25zSW5zdGFuY2UgfSBmcm9tIFwiLi9zaGFyZWQvbWVkaWNhbC1kYXRhLW9wZXJhdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFVzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1tZXNzYWdlJyk7XG4gICAgICAgIHRoaXMubG9naW5DbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhY3RpdmF0aW9uLW1vZGFsIC5jbG9zZS1idG4nKTtcbiAgICAgICAgdGhpcy5sb2dpbkNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FjdGl2YXRpb24tbW9kYWwgLmNsb3NlLWJ0bicpO1xuICAgICAgICB0aGlzLnN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRCdG4nKTtcbiAgICAgICAgdGhpcy5wcmVsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlbG9hZGVyJyk7XG5cbiAgICAgICAgdGhpcy5sb2dpbkNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZSgnYWN0aXZhdGlvbi1tb2RhbCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubG9naW4uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgbG9naW4oKXtcbiAgICAgICAgY29uc3QgZW1haWxWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLnZhbHVlO1xuICAgICAgICBjb25zdCBwYXNzd29yZFZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWU7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbFZhbHVlLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkVmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhdXRoT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IEFQSVVSTFMubG9naW4sXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNob3cgbG9hZGVyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJyk7XG5cbiAgICAgICAgYXhpb3MoYXV0aE9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLnRva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGljYWxEYXRhT3BlcmF0aW9uc0luc3RhbmNlLnNldFRva2VuKHJlc3BvbnNlLmRhdGEudG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UoJ2FjdGl2YXRpb24tbW9kYWwnKTtcblxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJJbnN0YW5jZS5sb2dpbkJ0bi5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlckluc3RhbmNlLmNyZWF0ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJJbnN0YW5jZS5jcmVhdGVCdG4uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcmRzTGlzdEluc3RhbmNlLmdldENhcmRMaXN0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZS5pbm5lclRleHQgPSBgJHtyZXNwb25zZS5kYXRhLm1lc3NhZ2V9ISEhYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBlcnJvcjogJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmlzaXQgfSBmcm9tIFwiLi92aXNpdFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZGlvbG9naXN0IGV4dGVuZHMgVmlzaXQge1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuXG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSBvYmoucHJlc3N1cmU7XG4gICAgICAgIHRoaXMud2VpZ2h0ID0gb2JqLndlaWdodDtcbiAgICAgICAgdGhpcy5pbGxuZXNzID0gb2JqLmlsbG5lc3M7XG4gICAgICAgIHRoaXMuYWdlID0gb2JqLmFnZTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmlzaXQgfSBmcm9tIFwiLi92aXNpdFwiO1xuXG5leHBvcnQgY2xhc3MgRGVudGlzdCBleHRlbmRzIFZpc2l0IHtcbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgc3VwZXIob2JqKTtcblxuICAgICAgICB0aGlzLmxhc3RWaXNpdCA9IG9iai5sYXN0VmlzaXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmlzaXQgfSBmcm9tIFwiLi92aXNpdFwiO1xuXG5leHBvcnQgY2xhc3MgVGhlcmFwaXN0IGV4dGVuZHMgVmlzaXQge1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuXG4gICAgICAgIHRoaXMuYWdlID0gb2JqLmFnZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVmlzaXQge1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICB0aGlzLmRvY3RvciA9IG9iai5kb2N0b3I7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG9iai5kYXRlO1xuICAgICAgICB0aGlzLm5hbWUgPSBvYmoubmFtZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBvYmouc3RhdHVzO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gb2JqLnByaW9yaXR5O1xuICAgICAgICB0aGlzLnRpdGxlID0gb2JqLnRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gb2JqLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnNwZWNpYWxpc3RzID0gb2JqLnNwZWNpYWxpc3RzO1xuICAgICAgICB0aGlzLmlkID0gb2JqLmlkO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=